(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["InputShaping"],{"./node_modules/@duet3d/motionanalysis/dist/analysis.js":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.analyzeAccelerometerData=void 0;const n=s("./node_modules/@duet3d/motionanalysis/dist/fft.js");function analyzeAccelerometerData(e,t,s=!1){if(e.length<1)throw new Error("Too few samples to perform frequency analysis");const a=e[0].length,i=t/a,r=Math.floor(Math.min(a/2,(s?t/2:200)/i)),o={frequencies:new Array(r),amplitudes:new Array(e.length)};for(let n=0;n<r;n++)o.frequencies[n]=n*i+i/2;for(let l=0;l<e.length;l++){const t=e[l].slice(),s=new Array(a);s.fill(0),(0,n.transform)(t,s);const i=new Array(r);for(let e=1;e<=r;e++)i[e-1]=Math.sqrt(t[e]*t[e]+s[e]*s[e])/a;o.amplitudes[l]=i}return o}t.analyzeAccelerometerData=analyzeAccelerometerData},"./node_modules/@duet3d/motionanalysis/dist/fft.js":function(e,t,s){"use strict";function transform(e,t){const s=e.length;if(s!=t.length)throw new RangeError("Mismatched lengths");0!=s&&(0==(s&s-1)?transformRadix2(e,t):transformBluestein(e,t))}function inverseTransform(e,t){transform(t,e)}function transformRadix2(e,t){const s=e.length;if(s!=t.length)throw new RangeError("Mismatched lengths");if(1==s)return;let n=-1;for(let r=0;r<32;r++)1<<r==s&&(n=r);if(-1==n)throw new RangeError("Length is not a power of 2");let a=new Array(s/2),i=new Array(s/2);for(let r=0;r<s/2;r++)a[r]=Math.cos(2*Math.PI*r/s),i[r]=Math.sin(2*Math.PI*r/s);for(let r=0;r<s;r++){const s=reverseBits(r,n);if(s>r){let n=e[r];e[r]=e[s],e[s]=n,n=t[r],t[r]=t[s],t[s]=n}}for(let r=2;r<=s;r*=2){const n=r/2,o=s/r;for(let l=0;l<s;l+=r)for(let s=l,r=0;s<l+n;s++,r+=o){const o=s+n,l=e[o]*a[r]+t[o]*i[r],u=-e[o]*i[r]+t[o]*a[r];e[o]=e[s]-l,t[o]=t[s]-u,e[s]+=l,t[s]+=u}}function reverseBits(e,t){let s=0;for(let n=0;n<t;n++)s=s<<1|1&e,e>>>=1;return s}}function transformBluestein(e,t){const s=e.length;if(s!=t.length)throw new RangeError("Mismatched lengths");let n=1;while(n<2*s+1)n*=2;let a=new Array(s),i=new Array(s);for(let p=0;p<s;p++){const e=p*p%(2*s);a[p]=Math.cos(Math.PI*e/s),i[p]=Math.sin(Math.PI*e/s)}let r=newArrayOfZeros(n),o=newArrayOfZeros(n);for(let p=0;p<s;p++)r[p]=e[p]*a[p]+t[p]*i[p],o[p]=-e[p]*i[p]+t[p]*a[p];let l=newArrayOfZeros(n),u=newArrayOfZeros(n);l[0]=a[0],u[0]=i[0];for(let p=1;p<s;p++)l[p]=l[n-p]=a[p],u[p]=u[n-p]=i[p];let c=new Array(n),d=new Array(n);convolveComplex(r,o,l,u,c,d);for(let p=0;p<s;p++)e[p]=c[p]*a[p]+d[p]*i[p],t[p]=-c[p]*i[p]+d[p]*a[p]}function convolveReal(e,t,s){const n=e.length;if(n!=t.length||n!=s.length)throw new RangeError("Mismatched lengths");convolveComplex(e,newArrayOfZeros(n),t,newArrayOfZeros(n),s,newArrayOfZeros(n))}function convolveComplex(e,t,s,n,a,i){const r=e.length;if(r!=t.length||r!=s.length||r!=n.length||r!=a.length||r!=i.length)throw new RangeError("Mismatched lengths");e=e.slice(),t=t.slice(),s=s.slice(),n=n.slice(),transform(e,t),transform(s,n);for(let o=0;o<r;o++){const a=e[o]*s[o]-t[o]*n[o];t[o]=t[o]*s[o]+e[o]*n[o],e[o]=a}inverseTransform(e,t);for(let o=0;o<r;o++)a[o]=e[o]/r,i[o]=t[o]/r}function newArrayOfZeros(e){let t=[];for(let s=0;s<e;s++)t.push(0);return t}Object.defineProperty(t,"__esModule",{value:!0}),t.newArrayOfZeros=t.convolveComplex=t.convolveReal=t.transformBluestein=t.transformRadix2=t.inverseTransform=t.transform=void 0,t.transform=transform,t.inverseTransform=inverseTransform,t.transformRadix2=transformRadix2,t.transformBluestein=transformBluestein,t.convolveReal=convolveReal,t.convolveComplex=convolveComplex,t.newArrayOfZeros=newArrayOfZeros},"./node_modules/@duet3d/motionanalysis/dist/index.js":function(e,t,s){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,s,n){void 0===n&&(n=s);var a=Object.getOwnPropertyDescriptor(t,s);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,n,a)}:function(e,t,s,n){void 0===n&&(n=s),e[n]=t[s]}),a=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||n(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),a(s("./node_modules/@duet3d/motionanalysis/dist/analysis.js"),t),a(s("./node_modules/@duet3d/motionanalysis/dist/shapers.js"),t)},"./node_modules/@duet3d/motionanalysis/dist/shapers.js":function(e,t,s){"use strict";var n;function getInputShaperFactors(e,t,s=.1){const a={amplitudes:[],durations:[]},i=Math.sqrt(1-Math.pow(s,2)),r=t*i,o=1/r,l=Math.exp(-s*Math.PI/i);switch(e){case n.mzv:{const e=Math.exp(.75*-s*Math.PI/i),t=1-.5*Math.sqrt(2),n=(Math.sqrt(2)-1)*e,r=t*e*e,o=t+n+r;a.amplitudes.push(r/o),a.amplitudes.push((n+r)/o)}a.durations.push(.375*o),a.durations.push(.375*o);break;case n.zvd:{const e=Math.pow(1+l,2);a.amplitudes.push(1/e),a.amplitudes.push(1/e+2*l/e)}a.durations.push(.5*o),a.durations.push(.5*o);break;case n.zvdd:{const e=Math.pow(1+l,3);a.amplitudes.push(1/e),a.amplitudes.push(a.amplitudes[0]+3*l/e),a.amplitudes.push(a.amplitudes[1]+3*Math.pow(l,2)/e)}a.durations.push(.5*o),a.durations.push(.5*o),a.durations.push(.5*o);break;case n.zvddd:{const e=Math.pow(1+l,4);a.amplitudes.push(1/e),a.amplitudes.push(a.amplitudes[0]+4*l/e),a.amplitudes.push(a.amplitudes[1]+6*Math.pow(l,2)/e),a.amplitudes.push(a.amplitudes[2]+4*Math.pow(l,3)/e)}a.durations.push(.5*o),a.durations.push(.5*o),a.durations.push(.5*o),a.durations.push(.5*o);break;case n.ei2:{const e=Math.pow(s,2),t=e*s;a.amplitudes.push(.16054+.76699*s+2.2656*e+-1.2275*t),a.amplitudes.push(.16054+.33911+1.2178*s+(2.2656-2.5808)*e+(1.7365-1.2275)*t),a.amplitudes.push(.8405400000000001+.60247*s+-1.00285*e+.9316099999999998*t),a.durations.push((.4989+.1627*s+-.54262*e+6.1618*t)*o),a.durations.push((.49858+.02112*s+(.54262-1.5827)*e+(8.1712-6.1618)*t)*o),a.durations.push((.50172+-.27679*s+1.29932*e+(1.8571-8.1712)*t)*o)}break;case n.ei3:{const e=Math.pow(s,2),t=e*s;a.amplitudes.push(.11275+.76632*s+3.2916*e+-1.4438*t),a.amplitudes.push(.34973+(.76632+.61164)*s+(3.2916-2.5785)*e+3.4084*t),a.amplitudes.push(.64981+1.1873399999999998*s+-1.4325*e+3.54584*t),a.amplitudes.push(.88756+.45436999999999983*s+(.46885-1.4325)*e+1.45934*t),a.durations.push((.49974+.23834*s+.44559*e+12.472*t)*o),a.durations.push((.99849-.49974+(.29808-.23834)*s+-2.81019*e+(23.399-12.472)*t)*o),a.durations.push((1.4987-.99849+(.10306-.29808)*s+(2.3646-2.0139)*e+(17.032-23.399)*t)*o),a.durations.push((1.9996-1.4987+-.38537*s+2.62926*e+(5.4045-17.032)*t)*o)}break;default:return a}return a}function getInputShaperDamping(e,t,s){if(t.length<1)throw new Error("Insufficient number of amplitudes");if(t.length!==s.length)throw new Error("Number of amplitudes must match the number of durations");const n=[t[0]];for(let r=1;r<t.length;r++)n[r]=t[r]-t[r-1];n.push(1-t[t.length-1]);const a=[0];for(let r of s)a.push(r+a[a.length-1]);const i=new Array(e.length);for(let r=0;r<e.length;r++){const t=e[r];let s=0,o=0;for(let e=0;e<n.length;e++)s+=n[e]*Math.sin(2*Math.PI*t*a[e]),o+=n[e]*Math.cos(2*Math.PI*t*a[e]);i[r]=Math.sqrt(s*s+o*o)}return i}Object.defineProperty(t,"__esModule",{value:!0}),t.getInputShaperDamping=t.getInputShaperFactors=t.InputShaperType=void 0,function(e){e["ei2"]="ei2",e["ei3"]="ei3",e["mzv"]="mzv",e["zvd"]="zvd",e["zvdd"]="zvdd",e["zvddd"]="zvddd"}(n=t.InputShaperType||(t.InputShaperType={})),t.getInputShaperFactors=getInputShaperFactors,t.getInputShaperDamping=getInputShaperDamping},"./node_modules/cache-loader/dist/cjs.js?!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/InputShaping/InputShaperCheckbox.vue?vue&type=script&lang=js&":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),a=s("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),i=(s("./node_modules/regenerator-runtime/runtime.js"),s("./node_modules/vuex/dist/vuex.esm.js"));t["default"]={props:{inputValue:Array,value:{required:!0,type:String},current:String,canApply:{default:!0,type:Boolean}},model:{prop:"inputValue",event:"change"},computed:Object(a["default"])(Object(a["default"])(Object(a["default"])({},Object(i["mapGetters"])(["uiFrozen"])),Object(i["mapState"])("machine/model",{shapingFrequency:function shapingFrequency(e){return e.move.shaping.frequency},shapingType:function shapingType(e){return e.move.shaping.type}})),{},{label:function label(){return"none"===this.value?"None":"custom"===this.value?"Custom":this.value.toUpperCase()},showApply:function showApply(){return this.canApply&&!this.uiFrozen&&this.current!==this.value&&this.shapingFrequency>0}}),methods:Object(a["default"])(Object(a["default"])({},Object(i["mapActions"])("machine",["sendCode"])),{},{change:function change(e){"none"!==this.value&&this.$emit("change",e)},apply:function apply(){var e=this;return Object(n["default"])(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.sendCode('M593 P"'.concat(e.value,'"'));case 2:case"end":return t.stop()}}),_callee)})))()}})}},"./node_modules/cache-loader/dist/cjs.js?!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/InputShaping/InputShaping.vue?vue&type=script&lang=js&":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),a=s("./node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js"),i=s("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),r=(s("./node_modules/regenerator-runtime/runtime.js"),s("./node_modules/core-js/modules/es.array.from.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.splice.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.number.to-fixed.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.string.ends-with.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/vue/dist/vue.runtime.esm.js")),o=s("./node_modules/vuex/dist/vuex.esm.js"),l=s("./src/utils/events.js"),u=s("./src/utils/path.js"),c=s("./src/store/machine/modelEnums.js"),d=s("./src/plugins/InputShaping/RecordMotionProfileDialog.vue"),p=s("./src/plugins/InputShaping/InputShaperCheckbox.vue"),h=s("./src/plugins/InputShaping/InputShapingChart.vue"),m=s("./src/plugins/InputShaping/InputShapingFileList.vue");t["default"]={components:{RecordMotionProfileDialog:d["default"],InputShaperCheckbox:p["default"],InputShapingChart:h["default"],InputShapingFileList:m["default"]},computed:Object(i["default"])(Object(i["default"])(Object(i["default"])(Object(i["default"])({},Object(o["mapState"])("machine/model",{shaping:function shaping(e){return e.move.shaping}})),Object(o["mapState"])(["selectedMachine"])),Object(o["mapGetters"])(["isConnected","uiFrozen"])),{},{isInputShapingEnabled:function isInputShapingEnabled(){return this.shaping.type!==c["InputShapingType"].none},currentFrequencies:function currentFrequencies(){return Array.from({length:81},(function(e,t){return t+10}))},lastRun:function lastRun(){var e,lastRun=0,t=Object(a["default"])(this.files);try{for(t.s();!(e=t.n()).done;){var s=e.value,n=/^(\d+)-/.exec(s);if(n){var i=parseInt(n[1]);i>lastRun&&(lastRun=i)}}}catch(r){t.e(r)}finally{t.f()}return lastRun},numCustomCoefficients:{get:function get(){return this.customAmplitudes.length},set:function set(e){if(this.customAmplitudes.length>e)this.customAmplitudes.splice(e),this.customDurations.splice(e);else for(var t=this.customAmplitudes.length;t<e;t++)this.customAmplitudes.push(0),this.customDurations.push(0)}},canConfigureCustom:function canConfigureCustom(){return this.numCustomCoefficients>0&&this.customAmplitudes.every((function(e){return e>0}))&&this.customDurations.every((function(e){return e>0}))},customShaperCode:function customShaperCode(){if(this.inputShapers.includes("custom")&&this.canConfigureCustom){var e=this.customAmplitudes.map((function(e){return e.toFixed(3)})).reduce((function(e,t){return e+":"+t})),t=this.customDurations.map((function(e){return e.toFixed(4)})).reduce((function(e,t){return e+":"+t}));return'M593 P"custom" H'.concat(e," T").concat(t)}return""},canSetFrequency:function canSetFrequency(){return!this.uiFrozen&&!isNaN(this.frequency)&&this.frequency!==this.shaping.frequency},canSetDamping:function canSetDamping(){return!this.uiFrozen&&!isNaN(this.damping)&&this.damping!==this.shaping.damping}}),data:function data(){return{tab:null,showDataCollection:!1,inputShapers:[],customAmplitudes:[],customDurations:[],customMenu:!1,configuringCustomShaper:!1,frequency:0,damping:.1,files:[],loadingFiles:!1,filesError:null,filesToAnalyze:[],fileFrequenciesToAnalyze:[],fileDataToAnalyze:null,showOriginalValues:!0,estimateShaperEffect:!1,sampleStartIndex:null,sampleEndIndex:null,hadOverflow:!1}},methods:Object(i["default"])(Object(i["default"])({},Object(o["mapActions"])("machine",["getFileList","sendCode"])),{},{recordingFinished:function recordingFinished(){this.tab="analysis",this.refresh()},setCustomAmplitude:function setCustomAmplitude(e,t){var s=parseFloat(t);!isNaN(s)&&s>=0&&r["default"].set(this.customAmplitudes,e,s)},setCustomDuration:function setCustomDuration(e,t){var s=parseFloat(t);!isNaN(s)&&s>=0&&r["default"].set(this.customDurations,e,s/1e3)},copy:function copy(){this.$refs.customShaperCode.focus(),this.$refs.customShaperCode.select(),document.execCommand("copy")},configureCustomShaper:function configureCustomShaper(){var e=this;return Object(n["default"])(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(t){while(1)switch(t.prev=t.next){case 0:return e.configuringCustomShaper=!0,t.prev=1,t.next=4,e.sendCode(e.customShaperCode);case 4:return t.prev=4,e.customMenu=e.configuringCustomShaper=!1,t.finish(4);case 7:case"end":return t.stop()}}),_callee,null,[[1,,4,7]])})))()},setFrequency:function setFrequency(){var e=this;return Object(n["default"])(regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function _callee2$(t){while(1)switch(t.prev=t.next){case 0:if(!e.canSetFrequency){t.next=3;break}return t.next=3,e.sendCode("M593 F".concat(e.frequency));case 3:case"end":return t.stop()}}),_callee2)})))()},setDamping:function setDamping(){var e=this;return Object(n["default"])(regeneratorRuntime.mark((function _callee3(){return regeneratorRuntime.wrap((function _callee3$(t){while(1)switch(t.prev=t.next){case 0:if(!e.canSetDamping){t.next=3;break}return t.next=3,e.sendCode("M593 S".concat(e.damping));case 3:case"end":return t.stop()}}),_callee3)})))()},refresh:function refresh(){var e=this;return Object(n["default"])(regeneratorRuntime.mark((function _callee4(){var t;return regeneratorRuntime.wrap((function _callee4$(s){while(1)switch(s.prev=s.next){case 0:if(e.isConnected){s.next=5;break}return e.files=[],e.loadingFiles=!1,e.errorMessage=null,s.abrupt("return");case 5:if(!e.loadingFiles){s.next=7;break}return s.abrupt("return");case 7:return e.loadingFiles=!0,s.prev=8,s.next=11,e.getFileList(u["default"].accelerometer);case 11:t=s.sent.filter((function(e){return!e.isDirectory&&e.name!==u["default"].filamentsFile&&e.name.endsWith(".csv")})),t.sort((function(e,t){return new Date(t.lastModified)-new Date(e.lastModified)})),e.files=t.map((function(e){return e.name}));case 14:return s.prev=14,e.loadingFiles=!1,s.finish(14);case 17:case"end":return s.stop()}}),_callee4,null,[[8,,14,17]])})))()},filesOrDirectoriesChanged:function filesOrDirectoriesChanged(e){var t=e.machine,s=e.files;t===this.selectedMachine&&(this.filesToAnalyze.some((function(e){return s.includes(u["default"].combine(u["default"].accelerometer,e))}))?this.filesToAnalyze=[]:s.some((function(e){return e.endsWith(".csv")}))&&u["default"].filesAffectDirectory(s,u["default"].accelerometer)&&this.refresh())}}),mounted:function mounted(){this.refresh(),"none"===this.shaping.type?this.inputShapers=[]:this.inputShapers.push(this.shaping.type),this.frequency=this.shaping.frequency,this.damping=this.shaping.damping,this.customAmplitudes=this.shaping.amplitudes.slice(),this.customDurations=this.shaping.durations.slice(),this.$root.$on(l["default"].filesOrDirectoriesChanged,this.filesOrDirectoriesChanged)},beforeDestroy:function beforeDestroy(){this.$root.$off(l["default"].filesOrDirectoriesChanged,this.filesOrDirectoriesChanged)},watch:{"shaping.type":function shapingType(e){"none"===e?this.inputShapers=[]:(this.inputShapers.includes(e)||this.inputShapers.push(e),"custom"===e&&(this.customAmplitudes=this.shaping.amplitudes.slice(),this.customDurations=this.shaping.durations.slice()))},"shaping.amplitudes":{deep:!0,handler:function handler(e){this.inputShapers.includes("custom")&&"custom"!==this.shaping.type||(this.customAmplitudes=e.slice())}},"shaping.durations":{deep:!0,handler:function handler(e){this.inputShapers.includes("custom")&&"custom"!==this.shaping.type||(this.customDurations=e.slice())}},"shaping.frequency":function shapingFrequency(e){this.frequency=e},"shaping.damping":function shapingDamping(e){this.damping=e},numCustomCoefficients:function numCustomCoefficients(){var e=this;this.$nextTick((function(){e.$refs.customMenu&&e.$refs.customMenu.updateDimensions()}))},selectedMachine:function selectedMachine(){this.refresh()}}}},"./node_modules/cache-loader/dist/cjs.js?!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/InputShaping/InputShapingChart.vue?vue&type=script&lang=js&":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js"),a=s("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),i=(s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.number.to-fixed.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.regexp.to-string.js"),s("./node_modules/core-js/modules/es.array.from.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.array.find.js"),s("./node_modules/core-js/modules/es.array.splice.js"),s("./node_modules/chart.js/dist/Chart.js")),r=s.n(i),o=s("./node_modules/vuex/dist/vuex.esm.js"),l=(s("./src/plugins/InputShaping/RangePlugin.js"),s("./src/plugins/InputShaping/VLinePlugin.js"),s("./node_modules/@duet3d/motionanalysis/dist/shapers.js"));t["default"]={props:{frequencies:Array,ringingFrequency:Number,value:Object,showValues:{default:!0,type:Boolean},sampleStartIndex:Number,sampleEndIndex:Number,inputShapers:Array,inputShaperFrequency:Number,inputShaperDamping:Number,customAmplitudes:Array,customDurations:Array,estimateShaperEffect:Boolean},computed:Object(a["default"])(Object(a["default"])({},Object(o["mapState"])("settings",["darkTheme"])),{},{showReduction:function showReduction(){return(this.amplitudes&&this.durations||!!this.inputShapers&&this.inputShapers.length>0)&&!this.estimateShaperEffect},resolution:function resolution(){return this.frequencies&&this.frequencies.length>2?this.frequencies[1]-this.frequencies[0]:0},lineAtPoint:function lineAtPoint(){var e=-1;if(this.frequencies&&this.frequencies.length>1&&this.ringingFrequency){for(var t,s=0;s<this.frequencies.length;s++){var n=Math.abs(this.frequencies[s]-this.ringingFrequency);(-1===e||n<t)&&(e=s,t=n)}t>this.resolution&&(e=-1)}return e}}),data:function data(){return{chart:null,options:{},dragStart:null,isUpdating:!1}},mounted:function mounted(){var e=this;this.options={animation:!1,hover:{mode:"nearest",intersect:!0},legend:{labels:{},onClick:function onClick(t,s){var n=s.datasetIndex,a=this.chart,i=a.getDatasetMeta(n);i.hidden=null===i.hidden?!a.data.datasets[n].hidden:null,a.data.datasets[n].isShaperFrequency&&(a.config.lineAtIndex=i.hidden?[]:[e.lineAtPoint]),a.update()}},maintainAspectRatio:!1,plugins:{range:{},vline:{lineColor:"#1010FF",lineWidth:2}},scales:{xAxes:[{display:!0,gridLines:{display:!0},scaleLabel:{display:!0,labelString:this.frequencies&&this.frequencies.length>0?"Frequency (in Hz)":"Sample"},ticks:{minor:{fontFamily:"Roboto,sans-serif"},major:{fontFamily:"Roboto,sans-serif"},beginAtZero:!0,maxTicksLimit:20}}],yAxes:[{display:!!this.value,gridLines:{display:!0},scaleLabel:{display:!0,labelString:this.frequencies&&this.frequencies.length>0?"Amplitude":"Acceleration (in g)"},ticks:{minor:{fontFamily:"Roboto,sans-serif"},major:{fontFamily:"Roboto,sans-serif"}}},{display:this.showReduction,gridLines:{display:!0},id:"damping",position:this.value?"right":"left",scaleLabel:{display:!0,labelString:"Reduction Factor"},ticks:{min:0,max:1}}]},tooltips:{enabled:!0,callbacks:{label:function label(t,s){var label=s.datasets[t.datasetIndex].label||"";return label&&(label+=": "),label+=e.estimateShaperEffect?Math.round(1e4*t.yLabel)/1e4:Math.round(1e3*t.yLabel)/1e3,label},title:function title(t){return e.frequencies?e.$t("plugins.accelerometer.frequencyTooltip",[e.frequencies[t[0].index].toFixed(1),(e.resolution/2).toFixed(1)]):e.$t("plugins.accelerometer.sampleTooltip",[t[0].index+1])}}}},this.chart=r.a.Line(this.$refs.chart,{options:this.options,data:{datasets:[],labels:[]}}),this.updateDatasets(),this.applyDarkTheme(this.darkTheme)},methods:{applyDarkTheme:function applyDarkTheme(e){var t=e?"#FFF":"#666";this.chart.config.options.legend.labels.fontColor=t,this.chart.config.options.scales.xAxes[0].ticks.minor.fontColor=t,this.chart.config.options.scales.xAxes[0].ticks.major.fontColor=t,this.chart.config.options.scales.xAxes[0].scaleLabel.fontColor=t,this.chart.config.options.scales.yAxes[0].ticks.major.fontColor=t,this.chart.config.options.scales.yAxes[0].ticks.minor.fontColor=t,this.chart.config.options.scales.yAxes[0].scaleLabel.fontColor=t,this.chart.config.options.scales.yAxes[1].ticks.major.fontColor=t,this.chart.config.options.scales.yAxes[1].ticks.minor.fontColor=t,this.chart.config.options.scales.yAxes[1].scaleLabel.fontColor=t;var s=e?"rgba(255,255,255,0.15)":"rgba(0,0,0,0.15)";this.chart.config.options.scales.xAxes[0].gridLines.color=s,this.chart.config.options.scales.yAxes[0].gridLines.color=s,this.chart.config.options.scales.yAxes[0].gridLines.zeroLineColor=s,this.chart.config.options.scales.yAxes[1].gridLines.color=s,this.chart.config.options.scales.yAxes[1].gridLines.zeroLineColor=s,this.chart.update()},getLineColor:function getLineColor(e){var t=["#4dc9f6","#f67019","#f53794","#537bc4","#acc236","#166a8f","#00a950","#58595b","#8549ba"];return t[e%t.length]},updateDatasets:function updateDatasets(){var e=this,t=this.chart.data.datasets.filter((function(t,s){return!e.chart.isDatasetVisible(s)})).map((function(e){return e.label}));this.chart.data.labels=[],this.chart.data.datasets=[];var s=0;for(var a in this.value){if(this.showValues){var i={borderColor:this.getLineColor(this.chart.data.datasets.length),backgroundColor:this.getLineColor(this.chart.data.datasets.length),pointBorderWidth:.25,pointRadius:2,borderWidth:1.25,data:this.value[a],fill:!1,label:a};this.chart.data.datasets.push(i)}this.value[a].length>s&&(s=this.value[a].length)}if(this.chart.config.options.scales.xAxes[0].ticks.min=0,this.chart.config.options.scales.xAxes[0].ticks.max=s,this.chart.data.labels=this.frequencies&&this.frequencies.length>0?this.frequencies.map((function(e){return Math.round(e).toString()})):Array.from({length:s},(function(e,t){return t})),-1!==this.lineAtPoint&&this.chart.data.datasets.length>0){this.chart.config.lineAtIndex=[this.lineAtPoint];var r={borderColor:"#1010FF",backgroundColor:"#1010FF",data:[],label:"Shaper Frequency",isShaperFrequency:!0};this.chart.data.datasets.push(r)}else this.chart.config.lineAtIndex=[];if(this.inputShaperFrequency&&this.frequencies&&this.frequencies.length>0){var o,u=Object(n["default"])(this.inputShapers);try{var c=function _loop(){var t=o.value;if("none"===t||"custom"===t)return"continue";if(!(t in l["InputShaperType"]))return console.warn("Unsupported shaper type ".concat(t)),"continue";var s=Object(l["getInputShaperFactors"])(t,e.inputShaperFrequency,e.inputShaperDamping),n=Object(l["getInputShaperDamping"])(e.frequencies,s.amplitudes,s.durations);if(e.estimateShaperEffect)for(var a in e.value){var i={borderColor:e.getLineColor(e.chart.data.datasets.length),backgroundColor:e.getLineColor(e.chart.data.datasets.length),pointBorderWidth:.25,pointRadius:0,borderDash:e.showValues?[5,5]:void 0,borderWidth:1.25,data:e.value[a].map((function(e,t){return e*n[t]})),fill:!1,label:"".concat(a," + ").concat(t.toUpperCase())};e.chart.data.datasets.push(i)}else{var r={borderColor:e.getLineColor(e.chart.data.datasets.length),backgroundColor:e.getLineColor(e.chart.data.datasets.length),pointBorderWidth:0,pointRadius:0,borderDash:[5,5],borderWidth:1.25,data:n,fill:!1,label:t.toUpperCase(),yAxisID:"damping"};e.chart.data.datasets.push(r)}};for(u.s();!(o=u.n()).done;)c()}catch(_){u.e(_)}finally{u.f()}}if(this.inputShapers.includes("custom")&&this.frequencies&&this.frequencies.length>0&&this.customAmplitudes&&this.customDurations&&this.customAmplitudes.length>0&&this.customDurations.length>0&&function(){var t=Object(l["getInputShaperDamping"])(e.frequencies,e.customAmplitudes,e.customDurations);if(e.estimateShaperEffect)for(var s in e.value){var n={borderColor:e.getLineColor(e.chart.data.datasets.length),backgroundColor:e.getLineColor(e.chart.data.datasets.length),pointBorderWidth:0,pointRadius:0,borderDash:e.showValues?[5,5]:void 0,borderWidth:1.25,data:e.value[s].map((function(e,s){return e*t[s]})),fill:!1,label:"".concat(s," + Custom")};e.chart.data.datasets.push(n)}else{var a={borderColor:e.getLineColor(e.chart.data.datasets.length),backgroundColor:e.getLineColor(e.chart.data.datasets.length),pointBorderWidth:0,pointRadius:0,borderDash:[10,5],borderWidth:1.25,data:t,fill:!1,label:"Custom",yAxisID:"damping",isCustom:!0};e.chart.data.datasets.push(a)}}(),!this.chart.data.datasets.find((function(e){return e.isShaperFrequency}))&&-1!==this.lineAtPoint&&this.chart.data.datasets.length>0){this.chart.config.lineAtIndex=[this.lineAtPoint];var d={borderColor:"#1010FF",backgroundColor:"#1010FF",data:[],label:"Shaper Frequency",isShaperFrequency:!0};this.chart.data.datasets.push(d)}if(this.frequencies&&this.frequencies.length>0){var p,h=-1,m=Object(n["default"])(this.frequencies);try{for(m.s();!(p=m.n()).done;){var f=p.value;if(Math.round(f)>100)break;h++}}catch(_){m.e(_)}finally{m.f()}if(h>0){var v,g=Object(n["default"])(this.chart.data.datasets);try{for(g.s();!(v=g.n()).done;){var x=v.value;this.isShaperFrequency||x.data.splice(h+1)}}catch(_){g.e(_)}finally{g.f()}this.chart.data.labels.splice(h+1),this.chart.config.options.scales.xAxes[0].ticks.max=h}}this.chart.options.scales.xAxes[0].scaleLabel.labelString=this.frequencies&&this.frequencies.length>0?"Frequency (in Hz)":"Sample",this.chart.options.scales.yAxes[0].scaleLabel.labelString=this.frequencies&&this.frequencies.length>0?"Amplitude":"Acceleration (in g)",this.chart.options.scales.yAxes[0].display=!!this.value,this.chart.options.scales.yAxes[1].display=this.showReduction,this.chart.options.scales.yAxes[1].position=this.value?"right":"left";var b,y=Object(n["default"])(this.chart.data.datasets);try{for(y.s();!(b=y.n()).done;){var j=b.value;t.includes(j.label)&&(j.hidden=!0)}}catch(_){y.e(_)}finally{y.f()}},update:function update(){var e=this;this.isUpdating||(this.isUpdating=!0,this.$nextTick((function(){e.updateDatasets(),e.chart.update(),e.isUpdating=!1})))},mouseDown:function mouseDown(e){if(!(this.frequencies&&this.frequencies.length>0)){var t=this.chart.getElementsAtEventForMode(e,"nearest",{intersect:!1});t&&t.length>0&&(this.dragStart=t[0]._index,this.chart.config.range={start:e.layerX},this.chart.update(),document.addEventListener("mouseup",this.mouseUp))}},mouseMove:function mouseMove(e){this.chart.config.range&&(this.chart.config.range.end=e.layerX,this.chart.update())},mouseUp:function mouseUp(e){if(document.removeEventListener("mouseup",this.mouseUp),this.chart.config.range&&this.chart.config.range.end){var t=this.chart.getElementsAtEventForMode(e,"nearest",{intersect:!1});if(t&&t.length>0){var s=t[0]._index;if(Math.abs(s-this.dragStart)>4){var n=Math.min(this.dragStart,s),a=Math.max(this.dragStart,s);this.$emit("update:sampleStartIndex",n),this.$emit("update:sampleEndIndex",a)}this.dragStart=null}}this.chart.config.range=null,this.chart.update()},mouseLeave:function mouseLeave(){this.chart.config.range&&(this.chart.config.range=null,this.chart.update())},doubleClick:function doubleClick(){this.$emit("update:sampleStartIndex",null),this.$emit("update:sampleEndIndex",null)},arraysDiffer:function arraysDiffer(e,t){if(e instanceof Array&&t instanceof Array){if(e.length!==t.length)return!0;for(var s=0;s<e.length;s++){var n=e[s],a=t[s];if(n instanceof Array&&a instanceof Array){if(n.length!==a.length)return!0;for(var i=0;i<n.length;i++)if(n[i]!==a[i])return!0}else if(e[s]!==t[s])return!0}}return!1}},watch:{frequencies:function frequencies(e,t){this.arraysDiffer(e,t)&&this.update()},ringingFrequency:function ringingFrequency(){this.update()},value:function value(){this.update()},showValues:function showValues(){this.update()},inputShapers:{deep:!0,handler:function handler(e,t){this.arraysDiffer(e,t)&&this.update()}},inputShaperFrequency:function inputShaperFrequency(){this.update()},inputShaperDamping:function inputShaperDamping(){this.update()},customAmplitudes:{deep:!0,handler:function handler(){if(this.customAmplitudes&&this.customDurations){for(var e in this.chart.data.datasets)if(e.isCustom)return e.data=Object(l["getInputShaperDamping"])(this.frequencies,this.customAmplitudes,this.customDurations),void this.update();this.update()}}},customDurations:{deep:!0,handler:function handler(){if(this.customAmplitudes&&this.customDurations){for(var e in this.chart.data.datasets)if(e.isCustom)return e.data=Object(l["getInputShaperDamping"])(this.frequencies,this.customAmplitudes,this.customDurations),void this.update();this.update()}}},darkTheme:function darkTheme(e){this.applyDarkTheme(e)},language:function language(){},sampleStartIndex:function sampleStartIndex(e){this.frequencies&&0!==this.frequencies.length||(this.chart.config.options.scales.xAxes[0].ticks.min=isNaN(e)?0:e,this.chart.update())},sampleEndIndex:function sampleEndIndex(e){this.frequencies&&0!==this.frequencies.length||(this.chart.config.options.scales.xAxes[0].ticks.max=isNaN(e)?this.chart.data.datasets.labels.length:e,this.chart.update())},estimateShaperEffect:function estimateShaperEffect(){this.update()}}}},"./node_modules/cache-loader/dist/cjs.js?!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/InputShaping/InputShapingFileList.vue?vue&type=script&lang=js&":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),a=s("./node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js"),i=s("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),r=(s("./node_modules/regenerator-runtime/runtime.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.find.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.error.cause.js"),s("./node_modules/core-js/modules/es.array.from.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.splice.js"),s("./node_modules/vuex/dist/vuex.esm.js")),o=s("./src/utils/path.js"),l=s("./src/utils/csv.js"),u=s("./node_modules/@duet3d/motionanalysis/dist/index.js");t["default"]={props:{title:{required:!0,type:String},files:{required:!0,type:Array},estimateShaperEffect:Boolean,showOriginalValues:Boolean,sampleStartIndex:Number,sampleEndIndex:Number,canDelete:Boolean,canShowSamples:Boolean,wideBand:Boolean,selectedFiles:Array,frequencies:Array,value:Object,hadOverflow:Boolean},computed:Object(i["default"])(Object(i["default"])({},Object(r["mapGetters"])(["uiFrozen"])),{},{profiles:function profiles(){var e,profiles=[],t=[],s=Object(a["default"])(this.files);try{for(s.s();!(e=s.n()).done;){var n=e.value,i=/^(\d+)-([a-zA-SU-Z]+)(-?\d+\.?\d*)-(-?\d+\.?\d*)-(\d+\.?\d*)-(\w+)-?(\d+\.?\d*)?(Hz)?\.csv/.exec(n);if(i)(function(){var e="Profile #".concat(i[1]),t=profiles.find((function(t){return t.title===e}));t||(t={icon:"mdi-run",title:e,subtitle:"",files:[]},profiles.push(t));var s="none"===i[6]?"No Shaping":"custom"===i[6]?"Custom":"".concat(i[6].toUpperCase()," @ ").concat(i[7],"Hz");t.files.push({title:"".concat(i[2].split("").reduce((function(e,t){return"".concat(e,"+").concat(t)}))," ").concat(i[3],"-").concat(i[4],", accelerometer ").concat(i[5],", ").concat(s),filename:n,shaperTitle:s})})();else{var r=/^(\d+)-T(\d+)-([a-zA-Z]+)(-?\d+\.?\d*)-(-?\d+\.?\d*)-(\d+\.?\d*)-(\w+)[-]?(\d+\.?\d*)?(Hz)?\.csv/.exec(n);if(r)(function(){var e="Profile #".concat(r[1]),t=profiles.find((function(t){return t.title===e}));t||(t={icon:"mdi-run",title:e,subtitle:"",files:[]},profiles.push(t));var s="none"===r[7]?"No Shaping":"custom"===r[7]?"Custom":"".concat(r[7].toUpperCase()," @ ").concat(r[8],"Hz");t.files.push({title:"T".concat(r[2],", ").concat(r[3].split("").reduce((function(e,t){return"".concat(e,"+").concat(t)}))," ").concat(r[4],"-").concat(r[5],", accelerometer ").concat(r[6],", ").concat(s),filename:n,shaperTitle:s})})();else{var o=/(.+)\.csv$/.exec(n);o&&t.push({title:o[1],filename:n})}}}}catch(v){s.e(v)}finally{s.f()}for(var l=0,u=profiles;l<u.length;l++){var c=u[l],d=c.files.map((function(e){return e.shaperTitle}));if(d.length>0){var p,h=!0,m=Object(a["default"])(d);try{for(m.s();!(p=m.n()).done;){var f=p.value;if(f!==d[0]){h=!1;break}}}catch(v){m.e(v)}finally{m.f()}c.subtitle="".concat(h?d[0]:"Multiple configs",", ").concat(c.files.length," moves")}else c.subtitle="".concat(c.files.length," moves")}return this.individualFiles&&t.length>0&&profiles.push({icon:"mdi-file-multiple",title:"Uncategorized",subtitle:"".concat(t.length," files"),files:t}),profiles}}),data:function data(){return{selection:[],progress:0,progressMax:0,estimateEffect:!1,individualFiles:!1,showSamples:!1}},methods:Object(i["default"])(Object(i["default"])({},Object(r["mapActions"])("machine",["delete","download"])),{},{deleteProfile:function deleteProfile(e){var t=this;return Object(n["default"])(regeneratorRuntime.mark((function _callee(){var s,n,i;return regeneratorRuntime.wrap((function _callee$(r){while(1)switch(r.prev=r.next){case 0:t.progress=0,t.progressMax=e.files.length,r.prev=2,s=Object(a["default"])(e.files),r.prev=4,s.s();case 6:if((n=s.n()).done){r.next=13;break}return i=n.value,r.next=10,t.delete(o["default"].combine(o["default"].accelerometer,i.filename));case 10:t.progress++;case 11:r.next=6;break;case 13:r.next=18;break;case 15:r.prev=15,r.t0=r["catch"](4),s.e(r.t0);case 18:return r.prev=18,s.f(),r.finish(18);case 21:return r.prev=21,t.progress=t.progressMax=0,r.finish(21);case 24:t.$emit("refresh");case 25:case"end":return r.stop()}}),_callee,null,[[2,,21,24],[4,15,18,21]])})))()},deleteFile:function deleteFile(e){var t=this;return Object(n["default"])(regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function _callee2$(s){while(1)switch(s.prev=s.next){case 0:return t.progress=0,t.progressMax=1,s.prev=2,s.next=5,t.delete(o["default"].combine(o["default"].accelerometer,e));case 5:return s.prev=5,t.progress=t.progressMax=0,s.finish(5);case 8:t.$emit("refresh");case 9:case"end":return s.stop()}}),_callee2,null,[[2,,5,8]])})))()},setShowSamples:function setShowSamples(e){e||(this.sampleStartIndex=this.sampleEndIndex=null),this.showSamples=e},getSamples:function getSamples(e){var t=this;return Object(n["default"])(regeneratorRuntime.mark((function _callee3(){var s,n,a,i,r,u,c,d,p;return regeneratorRuntime.wrap((function _callee3$(h){while(1)switch(h.prev=h.next){case 0:return h.next=2,t.download({filename:o["default"].combine(o["default"].accelerometer,e),type:"text",showProgress:!1,showSuccess:!1,showError:!1});case 2:if(s=h.sent,n=new l["default"](s),!(n.headers.length<4||"Sample"!==n.headers[0]||n.content.length<4)){h.next=6;break}throw new Error("Invalid accelerometer CSV");case 6:if(a=/Rate (\d+) overflows (\d)/.exec(n.content[n.content.length-1].reduce((function(e,t){return e+t}))),a){h.next=9;break}throw new Error("Failed to read rate and overflows");case 9:for(i=parseFloat(a[1]),r=parseFloat(a[2]),r>0&&t.$emit("update:hadOverflow",!0),u={samplingRate:i,samples:Array.from({length:n.content[0].length-1},(function(){return[]}))},c=0;c<n.content.length-1;c++)for(d=n.content[c],p=1;p<d.length;p++)u.samples[p-1].push(parseFloat(d[p]));return h.abrupt("return",u);case 14:case"end":return h.stop()}}),_callee3)})))()},getFrequencyResponse:function getFrequencyResponse(e){if(!e||0===e.length)return{};for(var t=e.length>1?e.map((function(e){return e.samplingRate})).reduce((function(e,t){return e+t}))/e.length:e[0].samplingRate,s=e[0].samples.length,n=e[0].samples[0].length,a=1;a<e.length;a++){if(e[a].samples.length!==s)throw new Error("Datasets must have the same number of axes");if(e[a].samples[0].length!==n)throw new Error("Datasets must have the same number of samples")}for(var i=Object(u["analyzeAccelerometerData"])(e[0].samples,t,this.wideBand),r=i.frequencies,o=i.amplitudes,l=1;l<e.length;l++)for(var c=Object(u["analyzeAccelerometerData"])(e[l].samples,t,this.wideBand),d=0;d<c.amplitudes.length;d++)for(var p=0;p<c.amplitudes[d].length;p++)o[d][p]+=c.amplitudes[d][p];return{frequencies:r,amplitudes:o.map((function(t){return t.map((function(t){return t/e.length}))}))}},update:function update(){var e=this;return Object(n["default"])(regeneratorRuntime.mark((function _callee4(){var t,s,n,i,r,o,l,u,c,d;return regeneratorRuntime.wrap((function _callee4$(p){while(1)switch(p.prev=p.next){case 0:if(e.$emit("update:hadOverflow",!1),!(e.selection.length>0)){p.next=50;break}if(e.progress=0,!e.individualFiles||!e.showSamples){p.next=17;break}return e.progressMax=1,p.prev=5,p.next=8,e.getSamples(e.selection[0]);case 8:t=p.sent,e.$emit("update:selectedFiles",e.selection),e.$emit("update:frequencies",null),e.$emit("input",{X:t.samples[0],Y:t.samples[1],Z:t.samples[2]});case 12:return p.prev=12,e.progress=1,p.finish(12);case 15:p.next=48;break;case 17:e.progressMax=e.selection.length+1,p.prev=18,s=[],n=Object(a["default"])(e.selection),p.prev=21,n.s();case 23:if((i=n.n()).done){p.next=32;break}return r=i.value,p.next=27,e.getSamples(r);case 27:o=p.sent,s.push(o),e.progress++;case 30:p.next=23;break;case 32:p.next=37;break;case 34:p.prev=34,p.t0=p["catch"](21),n.e(p.t0);case 37:return p.prev=37,n.f(),p.finish(37);case 40:if(1===s.length&&"number"===typeof e.sampleStartIndex&&"number"===typeof e.sampleEndIndex){l=Object(a["default"])(s[0].samples);try{for(l.s();!(u=l.n()).done;)c=u.value,c.splice(e.sampleEndIndex+1),c.splice(0,e.sampleStartIndex)}catch(h){l.e(h)}finally{l.f()}}d=e.getFrequencyResponse(s),e.$emit("update:selectedFiles",e.selection),e.$emit("update:frequencies",d.frequencies),e.$emit("input",{X:d.amplitudes[0],Y:d.amplitudes[1],Z:d.amplitudes[2]});case 45:return p.prev=45,e.progress=e.progressMax,p.finish(45);case 48:p.next=54;break;case 50:e.progress=e.progressMax=0,e.$emit("update:frequencies",null),e.selectedFiles&&e.selectedFiles.length>0&&e.$emit("update:selectedFiles",[]),e.$emit("input",null);case 54:case"end":return p.stop()}}),_callee4,null,[[5,,12,15],[18,,45,48],[21,34,37,40]])})))()}}),watch:{selectedFiles:function selectedFiles(e){this.selection=e||[]},estimateEffect:function estimateEffect(e){this.$emit("update:showOriginalValues",!e),this.$emit("update:estimateShaperEffect",e)},individualFiles:function individualFiles(e){this.selection=[],e||this.$emit("update:showOriginalValues",!0),this.$emit("update:useIndividualFiles",e)},selection:function selection(){this.update(),this.$emit("update:sampleStartIndex",null),this.$emit("update:sampleEndIndex",null)},showSamples:function showSamples(e){this.update(),e||this.$emit("update:showOriginalValues",!0)}}}},"./node_modules/cache-loader/dist/cjs.js?!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/InputShaping/RecordMotionProfileDialog.vue?vue&type=script&lang=js&":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),a=s("./node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js"),i=s("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),r=(s("./node_modules/regenerator-runtime/runtime.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.array.find.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.regexp.to-string.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.number.to-fixed.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.array.find-index.js"),s("./node_modules/core-js/modules/es.array.splice.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.error.cause.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/vuex/dist/vuex.esm.js")),o=s("./src/store/machine/modelItems.js"),l=s("./src/utils/errors.js"),u=s("./src/store/machine/modelEnums.js"),c={idle:"idle",recording:"recording",finished:"finished",cancelled:"cancelled"};t["default"]={props:{lastRun:{required:!0,type:Number},shown:{required:!0,type:Boolean}},computed:Object(i["default"])(Object(i["default"])({},Object(r["mapState"])("machine/model",["boards","move","tools","state"])),{},{xAxis:function xAxis(){return this.move.axes.find((function(e){return"X"===e.letter}))||new o["Axis"]},yAxis:function yAxis(){return this.move.axes.find((function(e){return"Y"===e.letter}))||new o["Axis"]},zAxis:function zAxis(){return this.move.axes.find((function(e){return"Z"===e.letter}))||new o["Axis"]},shownInternal:{get:function get(){return this.shown},set:function set(e){this.$emit("update:shown",e)}},shaper:function shaper(){return"none"===this.move.shaping.type?"None":"custom"===this.move.shaping.type?"Custom":this.move.shaping.type.toUpperCase()},frequency:function frequency(){return"none"===this.move.shaping.type||"custom"===this.move.shaping.type?null:"".concat(this.move.shaping.frequency,"Hz")},damping:function damping(){return"none"===this.move.shaping.type||"custom"===this.move.shaping.type?null:this.move.shaping.damping.toString()},amplitudes:function amplitudes(){return"custom"===this.move.shaping.type?this.move.shaping.amplitudes.map((function(e){return e.toString()})).reduce((function(e,t){return e+", "+t})):null},durations:function durations(){return"custom"===this.move.shaping.type?this.move.shaping.durations.map((function(e){return(e/1e3).toFixed(3)+"ms"})).reduce((function(e,t){return e+", "+t})):null},allAxesHomed:function allAxesHomed(){return!this.move.axes.some((function(e){return!e.homed}))},accelerometers:function accelerometers(){return this.boards.filter((function(e){return null!==e.accelerometer})).map((function(e){return{text:e.canAddress?"".concat(e.canAddress,".0"):"0",value:e.accelerometer}}))},hasExternalAccelerometers:function hasExternalAccelerometers(){return this.boards.some((function(e){return 0!==e.canAddress&&!!e.accelerometer}))},toolList:function toolList(){return[{text:"None",value:null}].concat(this.tools.map((function(e){return{text:e.name||e.number.toString(),value:e}})))},showZCenter:function showZCenter(){return[u["KinematicsName"].delta,u["KinematicsName"].rotaryDelta,u["KinematicsName"].coreXZ].includes(this.move.kinematics.name)},maxSpeed:function maxSpeed(){var e,maxSpeed=6e3,t=Object(a["default"])(this.move.axes);try{for(t.s();!(e=t.n()).done;){var s=e.value;s.speed>maxSpeed&&(maxSpeed=s.speed)}}catch(n){t.e(n)}finally{t.f()}return this.moves.some((function(e){return e.axis.length>1}))?Math.round(maxSpeed*Math.sqrt(2)):maxSpeed},canGoBack:function canGoBack(){return"config"===this.currentPage},canGoNext:function canGoNext(){switch(this.currentPage){case"start":return this.accelerometers.length>0&&this.allAxesHomed;case"config":var e,t=Object(a["default"])(this.moves);try{for(t.s();!(e=t.n()).done;){var s=e.value;if(!s.accelerometer||!s.axis||s.start>=s.end||s.start<this.getMin(s,!0)||s.start>this.getMax(s,!0)||s.end<this.getMin(s,!1)||s.end>this.getMax(s,!1))return!1}}catch(n){t.e(n)}finally{t.f()}return this.moves.length>0&&(!this.centerAxes||!isNaN(this.xAxisCenter)&&this.xAxisCenter>=this.xAxis.min&&this.xAxisCenter<this.xAxis.max&&!isNaN(this.yAxisCenter)&&this.yAxisCenter>=this.yAxis.min&&this.yAxisCenter<this.yAxis.max&&(!isNaN(this.zAxisCenter)&&this.zAxisCenter>=this.zAxis.min&&this.zAxisCenter<this.zAxis.max||!this.showZCenter))}return!1}}),data:function data(){return{currentPage:"start",moves:[],centerAxes:!0,xAxisCenter:0,yAxisCenter:0,zAxisCenter:0,recordWholeMove:!0,run:0,finished:!1,cancelled:!1}},methods:Object(i["default"])(Object(i["default"])({},Object(r["mapActions"])("machine",["sendCode"])),{},{refreshCenters:function refreshCenters(){"collection"!==this.currentPage&&(this.xAxisCenter=(this.xAxis.min+this.xAxis.max)/2,this.yAxisCenter=(this.yAxis.min+this.yAxis.max)/2,this.zAxisCenter=(this.zAxis.min+this.zAxis.max)/2)},makeMoves:function makeMoves(){var e=this;"collection"!==this.currentPage&&(this.moves=this.move.axes.filter((function(e){return"X"===e.letter||"Y"===e.letter})).map((function(t){return{state:c.idle,tool:null,accelerometer:e.accelerometers.length>0?e.accelerometers[0].value:null,axis:t.letter,start:Math.round((t.min+t.max)/2-(t.max-t.min)/4),end:Math.round((t.min+t.max)/2+(t.max-t.min)/4)}})))},addMove:function addMove(){var e=this.move.axes.find((function(e){return"X"===e.letter}));this.moves.push({state:c.idle,tool:null,accelerometer:this.accelerometers.length>0?this.accelerometers[0].value:null,axis:"X",start:e?Math.round((e.min+e.max)/2-(e.max-e.min)/4):null,end:e?Math.round((e.min+e.max)/2+(e.max-e.min)/4):null})},setMoveTool:function setMoveTool(e,t){var s=this.move.axes.findIndex((function(t){return t.letter===e.axis}));s>=0&&(e.tool&&(e.start-=e.tool.offsets[s],e.end-=e.tool.offsets[s]),t&&(e.start+=t.offsets[s],e.end+=t.offsets[s])),e.tool=t},setMoveAxis:function setMoveAxis(e,t){var s=this.move.axes.find((function(e){return e.letter===t}));if(s){var n=this.move.axes.findIndex((function(e){return e.letter===t}));e.start=Math.round((t.min+t.max)/2-(t.max-t.min)/4),e.end=Math.round((t.min+t.max)/2+(t.max-t.min)/4),e.tool&&(e.start+=e.tool.offsets[n],e.end+=e.tool.offsets[n])}e.axis=t},removeMove:function removeMove(e){this.moves.splice(e,1)},getMin:function getMin(e,t){var s;if(!e.axis)return null;var n,i=null,r=e.axis.split("+"),o=Object(a["default"])(this.move.axes);try{for(o.s();!(n=o.n()).done;){var l=n.value;if(r.includes(l.letter)&&(null===i||i<l.min))if(null!==e.tool)switch(l.letter){case"X":i=l.min+e.tool.offsets[0];break;case"Y":i=l.min+e.tool.offsets[1];break}else i=l.min}}catch(u){o.e(u)}finally{o.f()}return t?i:Math.max(i,null!==(s=e.start)&&void 0!==s?s:i)},getMax:function getMax(e,t){var s;if(!e.axis)return null;var n,i=null,r=e.axis.split("+"),o=Object(a["default"])(this.move.axes);try{for(o.s();!(n=o.n()).done;){var l=n.value;if(r.includes(l.letter)&&(null===i||i>l.max))if(null!==e.tool)switch(l.letter){case"X":i=l.max+e.tool.offsets[0];break;case"Y":i=l.max+e.tool.offsets[1];break}else i=l.max}}catch(u){o.e(u)}finally{o.f()}return t?Math.min(i,null!==(s=e.end)&&void 0!==s?s:i):i},getRules:function getRules(e,t){var s=this;return[function(n){return n>=s.getMin(e,t)},function(n){return n<=s.getMax(e,t)}]},getAccelerometerId:function getAccelerometerId(e){if(!e)return null;var t=this.accelerometers.find((function(t){return t.value===e}));return t?t.text:null},doCode:function doCode(e){var t=this;return Object(n["default"])(regeneratorRuntime.mark((function _callee(){var s;return regeneratorRuntime.wrap((function _callee$(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.sendCode(e);case 2:if(s=n.sent,0!==s.indexOf("Error")){n.next=5;break}throw new Error("Code ".concat(e," failed: ").concat(s));case 5:case"end":return n.stop()}}),_callee)})))()},getMoveFilename:function getMoveFilename(e,t){var s=this.run.toString();return e.tool&&(s+="-T"+e.tool.number),s+="-".concat(e.axis.replace(/\+/g,"")).concat(e.start,"-").concat(e.end,"-").concat(t,"-").concat(this.move.shaping.type),"none"!==this.move.shaping.type&&"custom"!==this.move.shaping.type&&(s+="-".concat(this.move.shaping.frequency,"Hz")),s+=".csv",s},waitForAccelerometerRun:function waitForAccelerometerRun(e){var t=this;return Object(n["default"])(regeneratorRuntime.mark((function _callee2(){var s,n,a,i;return regeneratorRuntime.wrap((function _callee2$(r){while(1)switch(r.prev=r.next){case 0:if(!t.cancelled){r.next=2;break}throw new l["OperationCancelledError"];case 2:return a=new Promise((function(e,t){s=e,n=t})),i=t.$watch((function(){return e.runs||t.cancelled}),(function(){t.cancelled?n():s(),i()})),r.abrupt("return",a);case 5:case"end":return r.stop()}}),_callee2)})))()},recordMove:function recordMove(e){var t=arguments,s=this;return Object(n["default"])(regeneratorRuntime.mark((function _callee3(){var n,a,i,r,o,u;return regeneratorRuntime.wrap((function _callee3$(d){while(1)switch(d.prev=d.next){case 0:if(n=t.length>1&&void 0!==t[1]&&t[1],a=s.moves[e],a.state=c.recording,d.prev=3,!a.tool){d.next=10;break}return d.next=7,s.doCode("T".concat(a.tool.number));case 7:n=!0,d.next=14;break;case 10:if(!n){d.next=14;break}return d.next=13,s.doCode("T-1");case 13:n=!1;case 14:if(!s.cancelled){d.next=17;break}throw a.state=c.cancelled,new l["OperationCancelledError"];case 17:return i=a.axis.split("+"),r=i.map((function(e){return"".concat(e).concat(a.start)})).reduce((function(e,t){return e+" "+t})),s.centerAxes&&(i.includes("X")||(r+=a.tool?" X".concat(s.xAxisCenter+a.tool.offsets[0]):" X".concat(s.xAxisCenter)),i.includes("Y")||(r+=a.tool?" Y".concat(s.yAxisCenter+a.tool.offsets[1]):" Y".concat(s.yAxisCenter)),s.showZCenter&&(r+=a.tool?" Z".concat(s.zAxisCenter+a.tool.offsets[2]):" Z".concat(s.zAxisCenter))),d.next=22,s.doCode("G1 ".concat(r," F").concat(s.maxSpeed));case 22:return d.next=24,s.doCode("G4 S1");case 24:if(!s.cancelled){d.next=27;break}throw a.state=c.cancelled,new l["OperationCancelledError"];case 27:if(o=a.axis.split("+").map((function(e){return"".concat(e).concat(a.end)})).reduce((function(e,t){return e+" "+t})),u=s.getAccelerometerId(a.accelerometer),!s.recordWholeMove){d.next=34;break}return d.next=32,s.doCode("M400 M956 P".concat(u,' S1000 A0 F"').concat(s.getMoveFilename(a,u),'" G1 ').concat(o," F").concat(s.maxSpeed));case 32:d.next=36;break;case 34:return d.next=36,s.doCode("G1 ".concat(o," F").concat(s.maxSpeed," M400 M956 P").concat(u,' S1000 A0 F"').concat(s.getMoveFilename(a,u),'"'));case 36:return d.next=38,s.waitForAccelerometerRun(a.accelerometer);case 38:if(a.state=c.finished,!(e+1<s.moves.length)){d.next=44;break}return d.next=42,s.recordMove(e+1,n);case 42:d.next=46;break;case 44:s.cancelled||s.$emit("finished"),s.finished=!0;case 46:d.next=53;break;case 48:d.prev=48,d.t0=d["catch"](3),console.warn("Sampling cancelled at move #".concat(e,": ").concat(d.t0.message||d.t0)),a.state=c.cancelled,s.cancelled=!0;case 53:case"end":return d.stop()}}),_callee3,null,[[3,48]])})))()},getMoveIcon:function getMoveIcon(e){switch(e.state){case c.idle:return"mdi-asterisk";case c.recording:return"mdi-play";case c.finished:return"mdi-check";case c.cancelled:return"mdi-close"}return"mdi-help-circle-outline"},cancel:function cancel(){"collection"!==this.currentPage||this.cancelled?this.shownInternal=!1:this.cancelled=this.finished=!0},goBack:function goBack(){switch(this.currentPage){case"config":this.currentPage="start";break}},goNext:function goNext(){switch(this.currentPage){case"start":this.moves.forEach((function(e){return e.state=c.idle})),this.currentPage="config";break;case"config":this.currentPage="collection",this.cancelled=!1,this.recordMove(0);break}}}),mounted:function mounted(){this.run=this.lastRun+1,this.refreshCenters(),this.makeMoves()},watch:{accelerometers:function accelerometers(){this.makeMoves()},"xAxis.min":function xAxisMin(){this.makeMoves(),this.refreshCenters()},"xAxis.max":function xAxisMax(){this.makeMoves(),this.refreshCenters()},"yAxis.min":function yAxisMin(){this.makeMoves(),this.refreshCenters()},"yAxis.max":function yAxisMax(){this.makeMoves(),this.refreshCenters()},"zAxis.min":function zAxisMin(){this.refreshCenters()},"zAxis.max":function zAxisMax(){this.refreshCenters()},shown:function shown(e){e?this.run=this.lastRun+1:("collection"===this.currentPage&&(this.cancelled=!0),this.currentPage="start",this.cancelled=this.finished=!1)},"state.status":function stateStatus(e){e!==u["StatusType"].disconnected&&e!==u["StatusType"].off||"collection"!==this.currentPage||(this.cancelled=!0)}}}},'./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"6eedfb67-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/InputShaping/InputShaperCheckbox.vue?vue&type=template&id=b04a29ea&':function(e,t,s){"use strict";s.r(t),s.d(t,"render",(function(){return render})),s.d(t,"staticRenderFns",(function(){return n}));var render=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-checkbox",{attrs:{"input-value":"none"===e.value?"none"===e.shapingType:e.inputValue,value:"none"===e.value||e.value,disabled:e.uiFrozen,label:e.label,"hide-details":""},on:{change:e.change},scopedSlots:e._u([{key:"append",fn:function(){return[e._t("default",(function(){return[s("v-chip",{directives:[{name:"show",rawName:"v-show",value:e.current===e.value,expression:"current === value"}],attrs:{small:"",color:"success"}},[e._v(" configured ")]),s("v-chip",{directives:[{name:"show",rawName:"v-show",value:e.showApply,expression:"showApply"}],attrs:{small:"",color:"gray"},on:{click:e.apply}},[e._v(" apply ")])]}))]},proxy:!0}],null,!0)})},n=[]},'./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"6eedfb67-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/InputShaping/InputShaping.vue?vue&type=template&id=279e43a3&scoped=true&':function(e,t,s){"use strict";s.r(t),s.d(t,"render",(function(){return render})),s.d(t,"staticRenderFns",(function(){return n}));var render=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-row",[s("v-col",[s("v-card",[s("v-tabs",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[s("v-tab",{attrs:{href:"#current"}},[s("v-icon",{staticClass:"mr-1"},[e._v("mdi-information")]),e._v(" Current Settings ")],1),s("v-tab",{attrs:{href:"#analysis"}},[s("v-icon",{staticClass:"mr-1"},[e._v("mdi-file")]),e._v(" Motion Analysis ")],1),s("v-btn",{staticClass:"align-self-center ml-auto mr-2 hidden-sm-and-down",attrs:{color:"success",disabled:e.uiFrozen},on:{click:function(t){e.showDataCollection=!0}}},[s("v-icon",{staticClass:"mr-1"},[e._v("mdi-record")]),e._v(" Record Motion Profile ")],1)],1),s("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[s("v-tab-item",{attrs:{value:"current"}},[s("div",{staticClass:"d-flex flex-column"},[s("v-alert",{staticClass:"mb-0",attrs:{value:!e.isInputShapingEnabled,type:"info"}},[e._v(" Input Shaping is not configured. Record a new Motion Profile to set it up ")]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.isInputShapingEnabled,expression:"isInputShapingEnabled"}],staticClass:"content flex-grow-1 pa-2"},[s("input-shaping-chart",{attrs:{frequencies:e.currentFrequencies,"ringing-frequency":e.frequency,"input-shapers":e.inputShapers,"input-shaper-frequency":e.frequency,"input-shaper-damping":e.damping,"custom-amplitudes":e.customAmplitudes,"custom-durations":e.customDurations}})],1)],1)]),s("v-tab-item",{attrs:{value:"analysis"}},[s("div",{staticClass:"d-flex flex-column"},[s("v-progress-linear",{attrs:{active:e.loadingFiles,indeterminate:""}}),s("v-alert",{staticClass:"mb-0",attrs:{value:0===e.files.length&&!e.filesError,type:"info"}},[e._v(" No Motion Profiles found. Record a new Motion Profile or "),s("a",{staticClass:"white--text text-decoration-underline",attrs:{href:"javascript:void(0)"},on:{click:e.refresh}},[e._v("refresh")]),e._v(" the file list ")]),s("v-alert",{staticClass:"mb-0",attrs:{value:e.filesError,type:"error"}},[e._v(" "+e._s(e.filesError)+" ")]),s("v-row",{directives:[{name:"show",rawName:"v-show",value:e.files.length>0,expression:"files.length > 0"}],staticClass:"content pa-2"},[s("v-col",{staticClass:"d-flex pa-0",attrs:{cols:"auto"}},[s("input-shaping-file-list",{attrs:{title:"Motion Profiles","can-delete":"",files:e.files,selectedFiles:e.filesToAnalyze,frequencies:e.fileFrequenciesToAnalyze,"sample-start-index":e.sampleStartIndex,"sample-end-index":e.sampleEndIndex,"had-overflow":e.hadOverflow,"estimate-shaper-effect":e.estimateShaperEffect,"show-original-values":e.showOriginalValues},on:{refresh:e.refresh,"update:selectedFiles":function(t){e.filesToAnalyze=t},"update:selected-files":function(t){e.filesToAnalyze=t},"update:frequencies":function(t){e.fileFrequenciesToAnalyze=t},"update:sampleStartIndex":function(t){e.sampleStartIndex=t},"update:sample-start-index":function(t){e.sampleStartIndex=t},"update:sampleEndIndex":function(t){e.sampleEndIndex=t},"update:sample-end-index":function(t){e.sampleEndIndex=t},"update:hadOverflow":function(t){e.hadOverflow=t},"update:had-overflow":function(t){e.hadOverflow=t},"update:estimateShaperEffect":function(t){e.estimateShaperEffect=t},"update:estimate-shaper-effect":function(t){e.estimateShaperEffect=t},"update:showOriginalValues":function(t){e.showOriginalValues=t},"update:show-original-values":function(t){e.showOriginalValues=t}},model:{value:e.fileDataToAnalyze,callback:function(t){e.fileDataToAnalyze=t},expression:"fileDataToAnalyze"}})],1),s("v-col",{staticClass:"align-center justify-center",class:e.filesToAnalyze.length?"d-none":"d-flex"},[e._v(" Please select a Motion Profile ")]),s("v-col",{directives:[{name:"show",rawName:"v-show",value:!!e.filesToAnalyze.length,expression:"!!filesToAnalyze.length"}],staticClass:"flex-column pa-0",class:e.filesToAnalyze.length?"d-flex":"d-none"},[s("v-alert",{staticClass:"mb-0",attrs:{value:e.hadOverflow,type:"warning"}},[e._v(" The selected motion profile contains overflows. It may not be accurate. ")]),s("v-card",{staticClass:"d-block fill-height pa-2",attrs:{outlined:""}},[s("input-shaping-chart",{attrs:{"can-show-samples":"","sample-start-index":e.sampleStartIndex,"sample-end-index":e.sampleEndIndex,frequencies:e.fileFrequenciesToAnalyze,value:e.fileDataToAnalyze,"ringing-frequency":e.frequency,"input-shapers":e.inputShapers,"input-shaper-frequency":e.frequency,"input-shaper-damping":e.damping,"custom-amplitudes":e.customAmplitudes,"custom-durations":e.customDurations,"estimate-shaper-effect":e.estimateShaperEffect,"show-values":e.showOriginalValues},on:{"update:sampleStartIndex":function(t){e.sampleStartIndex=t},"update:sample-start-index":function(t){e.sampleStartIndex=t},"update:sampleEndIndex":function(t){e.sampleEndIndex=t},"update:sample-end-index":function(t){e.sampleEndIndex=t}}})],1)],1)],1)],1)])],1)],1)],1),s("v-col",{attrs:{cols:"auto"}},[s("v-card",{attrs:{tile:""}},[s("v-card-title",{staticClass:"pb-2"},[s("v-icon",{staticClass:"mr-1"},[e._v("mdi-transition")]),e._v(" Input Shapers ")],1),s("v-card-text",{staticClass:"d-flex flex-column"},[s("input-shaper-checkbox",{staticClass:"mt-0",attrs:{value:"none",current:e.shaping.type},model:{value:e.inputShapers,callback:function(t){e.inputShapers=t},expression:"inputShapers"}}),s("input-shaper-checkbox",{attrs:{value:"mzv",current:e.shaping.type},model:{value:e.inputShapers,callback:function(t){e.inputShapers=t},expression:"inputShapers"}}),s("input-shaper-checkbox",{attrs:{value:"zvd",current:e.shaping.type},model:{value:e.inputShapers,callback:function(t){e.inputShapers=t},expression:"inputShapers"}}),s("input-shaper-checkbox",{attrs:{value:"zvdd",current:e.shaping.type},model:{value:e.inputShapers,callback:function(t){e.inputShapers=t},expression:"inputShapers"}}),s("input-shaper-checkbox",{attrs:{value:"zvddd",current:e.shaping.type},model:{value:e.inputShapers,callback:function(t){e.inputShapers=t},expression:"inputShapers"}}),s("input-shaper-checkbox",{attrs:{value:"ei2",current:e.shaping.type},model:{value:e.inputShapers,callback:function(t){e.inputShapers=t},expression:"inputShapers"}}),s("input-shaper-checkbox",{attrs:{value:"ei3",current:e.shaping.type},model:{value:e.inputShapers,callback:function(t){e.inputShapers=t},expression:"inputShapers"}}),s("v-divider",{staticClass:"mt-3"}),s("v-text-field",{staticClass:"mt-3",attrs:{type:"number",min:"10",step:"1",max:"1000",disabled:e.uiFrozen,label:"Shaper centre frequency","hide-details":""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.setFrequency.apply(null,arguments))}},scopedSlots:e._u([{key:"append",fn:function(){return[e._v(" Hz ")]},proxy:!0},{key:"append-outer",fn:function(){return[s("v-icon",{staticClass:"ml-1",attrs:{disabled:!e.canSetFrequency},on:{click:e.setFrequency}},[e._v("mdi-check")])]},proxy:!0}]),model:{value:e.frequency,callback:function(t){e.frequency=e._n(t)},expression:"frequency"}}),s("v-text-field",{staticClass:"mt-3",attrs:{type:"number",min:"0.01",step:"0.01",max:"0.99",disabled:e.uiFrozen,label:"Damping factor","hide-details":""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.setDamping.apply(null,arguments))}},scopedSlots:e._u([{key:"append-outer",fn:function(){return[s("v-icon",{staticClass:"ml-1",attrs:{disabled:!e.canSetDamping},on:{click:e.setDamping}},[e._v("mdi-check")])]},proxy:!0}]),model:{value:e.damping,callback:function(t){e.damping=e._n(t)},expression:"damping"}})],1)],1)],1),s("record-motion-profile-dialog",{attrs:{"last-run":e.lastRun,shown:e.showDataCollection},on:{"update:shown":function(t){e.showDataCollection=t},finished:e.recordingFinished}})],1)},n=[]},'./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"6eedfb67-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/InputShaping/InputShapingChart.vue?vue&type=template&id=7e126ffc&':function(e,t,s){"use strict";s.r(t),s.d(t,"render",(function(){return render})),s.d(t,"staticRenderFns",(function(){return n}));var render=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("canvas",{ref:"chart",on:{mousedown:e.mouseDown,mousemove:e.mouseMove,dblclick:e.doubleClick}})},n=[]},'./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"6eedfb67-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/InputShaping/InputShapingFileList.vue?vue&type=template&id=df8f86dc&scoped=true&':function(e,t,s){"use strict";s.r(t),s.d(t,"render",(function(){return render})),s.d(t,"staticRenderFns",(function(){return n}));var render=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-card",{staticClass:"d-flex flex-column",attrs:{flat:""}},[s("v-card-title",{staticClass:"pt-2 pb-1 no-wrap"},[s("v-icon",{staticClass:"mr-2"},[e._v("mdi-format-list-bulleted")]),e._v(" "+e._s(e.title)+" "),s("v-spacer"),s("v-icon",{staticClass:"ml-2",attrs:{disabled:e.uiFrozen},on:{click:function(t){return e.$emit("refresh")}}},[e._v("mdi-refresh")])],1),s("v-card-text",{directives:[{name:"show",rawName:"v-show",value:0===e.files.length,expression:"files.length === 0"}],staticClass:"pa-0"},[s("v-alert",{staticClass:"mb-0",attrs:{value:!0,type:"info"}},[e._v(" No Profiles ")])],1),s("v-progress-linear",{attrs:{active:e.progress!==e.progressMax,value:e.progress/e.progressMax*100}}),e.profiles.length>0?[e.individualFiles?[s("v-list",{staticClass:"py-0",attrs:{disabled:e.uiFrozen||e.progress!==e.progressMax,dense:""}},e._l(e.profiles,(function(t,n){return s("v-list-group",{key:n,scopedSlots:e._u([{key:"activator",fn:function(){return[s("v-list-item-icon",{staticClass:"align-self-center"},[s("v-icon",[e._v(" "+e._s(t.icon)+" ")])],1),s("v-list-item-content",[s("v-list-item-title",{staticClass:"no-overflow"},[e._v(" "+e._s(t.title)+" ")]),s("v-list-item-subtitle",{staticClass:"no-overflow"},[e._v(" "+e._s(t.subtitle)+" ")])],1)]},proxy:!0}],null,!0)},[s("v-list-item-group",{model:{value:e.selection,callback:function(t){e.selection=t},expression:"selection"}},e._l(t.files,(function(t,n){return s("v-list-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:n,attrs:{value:[t.filename]}},[s("v-list-item-icon",[s("v-icon",[e._v("mdi-file")])],1),s("v-list-item-title",{staticClass:"no-overflow"},[e._v(" "+e._s(t.title)+" ")]),e.canDelete?s("v-list-item-icon",{on:{click:function(s){return s.stopPropagation(),s.preventDefault(),e.deleteFile(t.filename)}}},[s("v-icon",[e._v(" mdi-delete ")])],1):e._e()],1)})),1)],1)})),1)]:[s("v-list",{staticClass:"py-0",attrs:{disabled:e.uiFrozen||e.progress!==e.progressMax,dense:""}},[s("v-list-item-group",{attrs:{color:"primary"},model:{value:e.selection,callback:function(t){e.selection=t},expression:"selection"}},e._l(e.profiles,(function(t,n){return s("v-list-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:n,attrs:{value:t.files.map((function(e){return e.filename})),"two-line":""}},[s("v-list-item-icon",{staticClass:"align-self-center"},[s("v-icon",[e._v(" "+e._s(t.icon)+" ")])],1),s("v-list-item-content",[s("v-list-item-title",{staticClass:"no-overflow"},[e._v(" "+e._s(t.title)+" ")]),s("v-list-item-subtitle",{staticClass:"no-overflow"},[e._v(" "+e._s(t.subtitle)+" ")])],1),e.canDelete?s("v-list-item-icon",{staticClass:"align-self-center",on:{click:function(s){return s.stopPropagation(),s.preventDefault(),e.deleteProfile(t)}}},[s("v-icon",[e._v(" mdi-delete ")])],1):e._e()],1)})),1)],1)]]:[s("v-alert",{staticClass:"mb-0",attrs:{type:"info"}},[e._v(" No Profiles found ")])],s("v-spacer"),s("v-checkbox",{directives:[{name:"show",rawName:"v-show",value:!e.individualFiles&&e.estimateEffect,expression:"!individualFiles && estimateEffect"}],staticClass:"ma-3 mb-0",attrs:{"input-value":e.showOriginalValues,label:"Show original values","hide-details":""},on:{change:function(t){return e.$emit("update:showOriginalValues",t)}}}),s("v-checkbox",{directives:[{name:"show",rawName:"v-show",value:!e.individualFiles,expression:"!individualFiles"}],staticClass:"ma-3 mb-0",attrs:{label:"Estimate shaper effect","hide-details":""},model:{value:e.estimateEffect,callback:function(t){e.estimateEffect=t},expression:"estimateEffect"}}),s("div",{staticClass:"justify-space-between ma-3 mb-0",class:e.individualFiles?"d-flex":"d-none"},[s("v-checkbox",{staticClass:"mt-0",attrs:{value:e.showSamples,label:"Show samples","hide-details":""},on:{change:function(t){return e.setShowSamples(t)}}}),s("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.showSamples,expression:"showSamples"}],attrs:{color:"primary",small:"",disabled:0===e.selection.length},on:{click:function(t){e.showSamples=!1}}},[s("v-icon",{staticClass:"mr-1",attrs:{small:""}},[e._v("mdi-poll")]),e._v(" Analyze ")],1)],1),s("v-checkbox",{staticClass:"ma-3",attrs:{label:"Display individual files","hide-details":""},model:{value:e.individualFiles,callback:function(t){e.individualFiles=t},expression:"individualFiles"}})],2)},n=[]},'./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"6eedfb67-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/InputShaping/RecordMotionProfileDialog.vue?vue&type=template&id=648d3f54&':function(e,t,s){"use strict";s.r(t),s.d(t,"render",(function(){return render})),s.d(t,"staticRenderFns",(function(){return n}));var render=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-dialog",{attrs:{"max-width":"640px","no-click-animation":""},model:{value:e.shownInternal,callback:function(t){e.shownInternal=t},expression:"shownInternal"}},[s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[e._v(" Record Motion Profile ")])]),s("v-card-text",{staticClass:"pb-0"},[s("v-window",{model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}},[s("v-window-item",{attrs:{value:"start"}},[e._v(" This wizard lets you to collect motion profiles using an accelerometer to tune input shaping."),s("br"),s("ul",{staticClass:"mt-3 mb-4"},[s("li",[e._v("Motion Profile #"+e._s(this.run))]),s("li",[e._v("Input Shaper: "+e._s(this.shaper))]),s("li",{directives:[{name:"show",rawName:"v-show",value:null!==e.frequency,expression:"frequency !== null"}]},[e._v("Shaper Frequency: "+e._s(e.frequency))]),s("li",{directives:[{name:"show",rawName:"v-show",value:null!==e.damping,expression:"damping !== null"}]},[e._v("Damping Factor: "+e._s(e.damping))]),s("li",{directives:[{name:"show",rawName:"v-show",value:null!==e.amplitudes,expression:"amplitudes !== null"}]},[e._v("Amplitudes: "+e._s(e.amplitudes))]),s("li",{directives:[{name:"show",rawName:"v-show",value:null!==e.durations,expression:"durations !== null"}]},[e._v("Durations: "+e._s(e.durations))])]),s("v-alert",{staticClass:"my-3",attrs:{value:0===e.accelerometers.length,dense:"",text:"",type:"error"}},[e._v(" No accelerometer found! "),s("a",{staticClass:"float-right",attrs:{href:"https://docs.duet3d.com/User_manual/Connecting_hardware/Sensors_Accelerometer",target:"_blank"}},[e._v(" Help ")])]),s("v-alert",{staticClass:"centered-alert my-3",attrs:{value:!e.allAxesHomed,border:"left",dense:"",text:"",type:"warning"}},[e._v(" Machine is not homed "),s("code-btn",{staticClass:"float-right",attrs:{code:"G28",color:"warning",small:""}},[e._v(" Home All ")])],1),s("v-alert",{staticClass:"my-3",attrs:{value:e.accelerometers.length>0&&e.allAxesHomed,dense:"",text:"",type:"success"}},[e._v(" Ready to record data ")]),s("span",{directives:[{name:"show",rawName:"v-show",value:e.accelerometers.length>0&&e.allAxesHomed,expression:"(accelerometers.length > 0) && allAxesHomed"}]},[e._v(" Press Next to continue. ")])],1),s("v-window-item",{attrs:{value:"config"}},[s("div",{staticClass:"d-flex flex-column"},[e._v(" Here you can define different moves for the data collection. "),s("v-simple-table",{staticClass:"mt-1"},[s("thead",[s("tr",[s("th",{staticClass:"px-0"},[e._v(" Tool ")]),s("th",[e._v(" Accelerometer ")]),s("th",{staticClass:"px-0"},[e._v(" Axis ")]),s("th",{staticClass:"pr-0"},[e._v(" Start Position ")]),s("th",[e._v(" End Position ")]),s("th")])]),s("tbody",e._l(e.moves,(function(t,n){return s("tr",{key:n},[s("td",{staticClass:"px-0"},[s("v-select",{staticClass:"pt-0",attrs:{value:t.tool,items:e.toolList,"hide-details":""},on:{change:function(s){return e.setMoveTool(t,s)}}})],1),s("td",[s("v-select",{staticClass:"pt-0",attrs:{items:e.accelerometers,rules:[function(e){return!!e}],"hide-details":""},model:{value:t.accelerometer,callback:function(s){e.$set(t,"accelerometer",s)},expression:"move.accelerometer"}})],1),s("td",{staticClass:"px-0"},[s("v-select",{staticClass:"pt-0",attrs:{value:t.axis,items:["X","Y","X+Y"],"hide-details":""},on:{change:function(s){return e.setMoveAxis(t,s)}}})],1),s("td",{staticClass:"pr-0"},[s("v-text-field",{staticClass:"pt-0",attrs:{type:"number",min:e.getMin(t,!0),max:e.getMax(t,!0),rules:e.getRules(t,!0),"hide-details":""},model:{value:t.start,callback:function(s){e.$set(t,"start",e._n(s))},expression:"move.start"}})],1),s("td",[s("v-text-field",{staticClass:"pt-0",attrs:{type:"number",min:e.getMin(t,!1),max:e.getMax(t,!1),rules:e.getRules(t,!1),"hide-details":""},model:{value:t.end,callback:function(s){e.$set(t,"end",e._n(s))},expression:"move.end"}})],1),s("td",{staticClass:"px-0"},[s("v-btn",{attrs:{color:"warning",outlined:"",disabled:e.moves.length<=1},on:{click:function(t){return e.removeMove(n)}}},[s("v-icon",[e._v("mdi-delete")])],1)],1)])})),0)]),s("v-divider",{staticClass:"mb-3"}),s("v-btn",{staticClass:"mx-auto",attrs:{color:"blue darken-1",outlined:"",text:""},on:{click:e.addMove}},[s("v-icon",{staticClass:"mr-1"},[e._v("mdi-plus")]),e._v(" Add Move ")],1),s("v-alert",{staticClass:"mt-3",attrs:{value:e.hasExternalAccelerometers,type:"info",dense:""}},[e._v(" This machine appears to have expansion boards with embedded accelerometers. If you are operating a tool changer, it is recommended to set the corresponding tool for each accelerometer. ")]),s("v-checkbox",{staticClass:"my-2",attrs:{label:"Centre unused axes before each move",ripple:!1,"hide-details":""},model:{value:e.centerAxes,callback:function(t){e.centerAxes=t},expression:"centerAxes"}}),s("div",{directives:[{name:"show",rawName:"v-show",value:e.centerAxes,expression:"centerAxes"}],staticClass:"mx-9"},[s("div",{staticClass:"d-inline-flex"},[s("v-text-field",{attrs:{type:"number",label:"X axis centre position",min:e.xAxis.min,max:e.xAxis.max,step:"1",rules:[function(t){return!isNaN(t)&&t>=e.xAxis.min&&t<=e.xAxis.max}]},model:{value:e.xAxisCenter,callback:function(t){e.xAxisCenter=e._n(t)},expression:"xAxisCenter"}}),s("v-text-field",{staticClass:"ml-5",attrs:{type:"number",label:"Y axis centre position",min:e.xAxis.min,max:e.xAxis.max,step:"1",rules:[function(t){return!isNaN(t)&&t>=e.yAxis.min&&t<=e.yAxis.max}]},model:{value:e.yAxisCenter,callback:function(t){e.yAxisCenter=e._n(t)},expression:"yAxisCenter"}}),s("v-text-field",{directives:[{name:"show",rawName:"v-show",value:e.showZCenter,expression:"showZCenter"}],staticClass:"ml-5",attrs:{type:"number",label:"Z axis centre position",rules:[function(t){return!isNaN(t)&&t>=e.zAxis.min&&t<=e.zAxis.max}]},model:{value:e.zAxisCenter,callback:function(t){e.zAxisCenter=e._n(t)},expression:"zAxisCenter"}})],1)]),s("v-checkbox",{staticClass:"my-2",attrs:{label:"Capture data during the whole length of the move",ripple:!1,"hide-details":""},model:{value:e.recordWholeMove,callback:function(t){e.recordWholeMove=t},expression:"recordWholeMove"}}),e._v(" The machine will record a new Motion Profile as soon as Next is clicked. ")],1)]),s("v-window-item",{attrs:{value:"collection"}},[s("span",{directives:[{name:"show",rawName:"v-show",value:!e.finished,expression:"!finished"}]},[e._v(" Please stand by while Motion Profiles are being recorded... ")]),s("v-simple-table",{staticClass:"mt-1"},[s("thead",[s("tr",[s("th",{staticClass:"px-0"}),s("th",[e._v(" Tool ")]),s("th",{staticClass:"px-0"},[e._v(" Accelerometer ")]),s("th",[e._v(" Axis ")]),s("th",{staticClass:"px-0"},[e._v(" Start Position ")]),s("th",[e._v(" End Position ")])])]),s("tbody",e._l(e.moves,(function(t,n){return s("tr",{key:n},[s("td",{staticClass:"px-0"},[s("v-icon",[e._v(" "+e._s(e.getMoveIcon(t))+" ")])],1),s("td",[e._v(" "+e._s(t.tool?t.tool.name||"T"+t.tool.number:"None")+" ")]),s("td",{staticClass:"px-0"},[e._v(" "+e._s(e.getAccelerometerId(t.accelerometer))+" ")]),s("td",[e._v(" "+e._s(t.axis)+" ")]),s("td",{staticClass:"px-0"},[e._v(" "+e._s(t.start)+" ")]),s("td",[e._v(" "+e._s(t.end)+" ")])])})),0)]),s("v-divider"),s("v-alert",{staticClass:"mt-3",attrs:{value:e.cancelled,dense:"",text:"",type:"error"}},[e._v(" Data collection cancelled! ")]),s("v-alert",{staticClass:"mt-3",attrs:{value:e.finished,dense:"",text:"",type:"success"}},[e._v(" Recording of Motion Profile #"+e._s(this.run)+" is complete! ")])],1)],1)],1),s("v-card-actions",[s("v-btn",{directives:[{name:"show",rawName:"v-show",value:!e.cancelled&&!e.finished,expression:"!cancelled && !finished"}],attrs:{color:"blue darken-1",text:""},on:{click:e.cancel}},[e._v(" Cancel ")]),s("v-spacer"),s("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.canGoBack,expression:"canGoBack"}],attrs:{color:"blue darken-1",text:""},on:{click:e.goBack}},[e._v(" Back ")]),s("v-btn",{directives:[{name:"show",rawName:"v-show",value:"collection"!==e.currentPage,expression:"currentPage !== 'collection'"}],attrs:{color:"blue darken-1",text:"",disabled:!e.canGoNext},on:{click:e.goNext}},[e._v(" Next ")]),s("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.cancelled||e.finished,expression:"cancelled || finished"}],attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.shownInternal=!1}}},[e._v(" Finish ")])],1)],1)],1)},n=[]},"./node_modules/mini-css-extract-plugin/dist/loader.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/InputShaping/InputShaping.vue?vue&type=style&index=0&id=279e43a3&scoped=true&lang=css&":function(e,t,s){},"./node_modules/mini-css-extract-plugin/dist/loader.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/InputShaping/InputShapingFileList.vue?vue&type=style&index=0&id=df8f86dc&scoped=true&lang=css&":function(e,t,s){},"./node_modules/mini-css-extract-plugin/dist/loader.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/InputShaping/RecordMotionProfileDialog.vue?vue&type=style&index=0&lang=css&":function(e,t,s){},"./src/plugins/InputShaping/InputShaperCheckbox.vue":function(e,t,s){"use strict";s.r(t);var n=s("./src/plugins/InputShaping/InputShaperCheckbox.vue?vue&type=template&id=b04a29ea&"),a=s("./src/plugins/InputShaping/InputShaperCheckbox.vue?vue&type=script&lang=js&"),i=s("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),r=s("./node_modules/vuetify-loader/lib/runtime/installComponents.js"),o=s.n(r),l=s("./node_modules/vuetify/lib/components/VCheckbox/VCheckbox.js"),u=s("./node_modules/vuetify/lib/components/VChip/VChip.js"),c=Object(i["default"])(a["default"],n["render"],n["staticRenderFns"],!1,null,null,null);t["default"]=c.exports,o()(c,{VCheckbox:l["default"],VChip:u["default"]})},"./src/plugins/InputShaping/InputShaperCheckbox.vue?vue&type=script&lang=js&":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/cache-loader/dist/cjs.js?!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/InputShaping/InputShaperCheckbox.vue?vue&type=script&lang=js&");t["default"]=n["default"]},"./src/plugins/InputShaping/InputShaperCheckbox.vue?vue&type=template&id=b04a29ea&":function(e,t,s){"use strict";s.r(t);var n=s('./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"6eedfb67-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/InputShaping/InputShaperCheckbox.vue?vue&type=template&id=b04a29ea&');s.d(t,"render",(function(){return n["render"]})),s.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]}))},"./src/plugins/InputShaping/InputShaping.vue":function(e,t,s){"use strict";s.r(t);var n=s("./src/plugins/InputShaping/InputShaping.vue?vue&type=template&id=279e43a3&scoped=true&"),a=s("./src/plugins/InputShaping/InputShaping.vue?vue&type=script&lang=js&"),i=(s("./src/plugins/InputShaping/InputShaping.vue?vue&type=style&index=0&id=279e43a3&scoped=true&lang=css&"),s("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),r=s("./node_modules/vuetify-loader/lib/runtime/installComponents.js"),o=s.n(r),l=s("./node_modules/vuetify/lib/components/VAlert/VAlert.js"),u=s("./node_modules/vuetify/lib/components/VBtn/VBtn.js"),c=s("./node_modules/vuetify/lib/components/VCard/VCard.js"),d=s("./node_modules/vuetify/lib/components/VCard/index.js"),p=s("./node_modules/vuetify/lib/components/VGrid/VCol.js"),h=s("./node_modules/vuetify/lib/components/VDivider/VDivider.js"),m=s("./node_modules/vuetify/lib/components/VIcon/VIcon.js"),f=s("./node_modules/vuetify/lib/components/VProgressLinear/VProgressLinear.js"),v=s("./node_modules/vuetify/lib/components/VGrid/VRow.js"),g=s("./node_modules/vuetify/lib/components/VTabs/VTab.js"),x=s("./node_modules/vuetify/lib/components/VTabs/VTabItem.js"),b=s("./node_modules/vuetify/lib/components/VTabs/VTabs.js"),y=s("./node_modules/vuetify/lib/components/VTabs/VTabsItems.js"),j=s("./node_modules/vuetify/lib/components/VTextField/VTextField.js"),_=Object(i["default"])(a["default"],n["render"],n["staticRenderFns"],!1,null,"279e43a3",null);t["default"]=_.exports,o()(_,{VAlert:l["default"],VBtn:u["default"],VCard:c["default"],VCardText:d["VCardText"],VCardTitle:d["VCardTitle"],VCol:p["default"],VDivider:h["default"],VIcon:m["default"],VProgressLinear:f["default"],VRow:v["default"],VTab:g["default"],VTabItem:x["default"],VTabs:b["default"],VTabsItems:y["default"],VTextField:j["default"]})},"./src/plugins/InputShaping/InputShaping.vue?vue&type=script&lang=js&":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/cache-loader/dist/cjs.js?!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/InputShaping/InputShaping.vue?vue&type=script&lang=js&");t["default"]=n["default"]},"./src/plugins/InputShaping/InputShaping.vue?vue&type=style&index=0&id=279e43a3&scoped=true&lang=css&":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/mini-css-extract-plugin/dist/loader.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/InputShaping/InputShaping.vue?vue&type=style&index=0&id=279e43a3&scoped=true&lang=css&");for(var a in n)["default"].indexOf(a)<0&&function(e){s.d(t,e,(function(){return n[e]}))}(a)},"./src/plugins/InputShaping/InputShaping.vue?vue&type=template&id=279e43a3&scoped=true&":function(e,t,s){"use strict";s.r(t);var n=s('./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"6eedfb67-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/InputShaping/InputShaping.vue?vue&type=template&id=279e43a3&scoped=true&');s.d(t,"render",(function(){return n["render"]})),s.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]}))},"./src/plugins/InputShaping/InputShapingChart.vue":function(e,t,s){"use strict";s.r(t);var n=s("./src/plugins/InputShaping/InputShapingChart.vue?vue&type=template&id=7e126ffc&"),a=s("./src/plugins/InputShaping/InputShapingChart.vue?vue&type=script&lang=js&"),i=s("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),r=Object(i["default"])(a["default"],n["render"],n["staticRenderFns"],!1,null,null,null);t["default"]=r.exports},"./src/plugins/InputShaping/InputShapingChart.vue?vue&type=script&lang=js&":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/cache-loader/dist/cjs.js?!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/InputShaping/InputShapingChart.vue?vue&type=script&lang=js&");t["default"]=n["default"]},"./src/plugins/InputShaping/InputShapingChart.vue?vue&type=template&id=7e126ffc&":function(e,t,s){"use strict";s.r(t);var n=s('./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"6eedfb67-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/InputShaping/InputShapingChart.vue?vue&type=template&id=7e126ffc&');s.d(t,"render",(function(){return n["render"]})),s.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]}))},"./src/plugins/InputShaping/InputShapingFileList.vue":function(e,t,s){"use strict";s.r(t);var n=s("./src/plugins/InputShaping/InputShapingFileList.vue?vue&type=template&id=df8f86dc&scoped=true&"),a=s("./src/plugins/InputShaping/InputShapingFileList.vue?vue&type=script&lang=js&"),i=(s("./src/plugins/InputShaping/InputShapingFileList.vue?vue&type=style&index=0&id=df8f86dc&scoped=true&lang=css&"),s("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),r=s("./node_modules/vuetify-loader/lib/runtime/installComponents.js"),o=s.n(r),l=s("./node_modules/vuetify/lib/components/VAlert/VAlert.js"),u=s("./node_modules/vuetify/lib/components/VBtn/VBtn.js"),c=s("./node_modules/vuetify/lib/components/VCard/VCard.js"),d=s("./node_modules/vuetify/lib/components/VCard/index.js"),p=s("./node_modules/vuetify/lib/components/VCheckbox/VCheckbox.js"),h=s("./node_modules/vuetify/lib/components/VIcon/VIcon.js"),m=s("./node_modules/vuetify/lib/components/VList/VList.js"),f=s("./node_modules/vuetify/lib/components/VList/VListGroup.js"),v=s("./node_modules/vuetify/lib/components/VList/VListItem.js"),g=s("./node_modules/vuetify/lib/components/VList/index.js"),x=s("./node_modules/vuetify/lib/components/VList/VListItemGroup.js"),b=s("./node_modules/vuetify/lib/components/VList/VListItemIcon.js"),y=s("./node_modules/vuetify/lib/components/VProgressLinear/VProgressLinear.js"),j=s("./node_modules/vuetify/lib/components/VGrid/VSpacer.js"),_=s("./node_modules/vuetify-loader/lib/runtime/installDirectives.js"),S=s.n(_),w=s("./node_modules/vuetify/lib/directives/ripple/index.js"),C=Object(i["default"])(a["default"],n["render"],n["staticRenderFns"],!1,null,"df8f86dc",null);t["default"]=C.exports,o()(C,{VAlert:l["default"],VBtn:u["default"],VCard:c["default"],VCardText:d["VCardText"],VCardTitle:d["VCardTitle"],VCheckbox:p["default"],VIcon:h["default"],VList:m["default"],VListGroup:f["default"],VListItem:v["default"],VListItemContent:g["VListItemContent"],VListItemGroup:x["default"],VListItemIcon:b["default"],VListItemSubtitle:g["VListItemSubtitle"],VListItemTitle:g["VListItemTitle"],VProgressLinear:y["default"],VSpacer:j["default"]}),S()(C,{Ripple:w["default"]})},"./src/plugins/InputShaping/InputShapingFileList.vue?vue&type=script&lang=js&":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/cache-loader/dist/cjs.js?!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/InputShaping/InputShapingFileList.vue?vue&type=script&lang=js&");t["default"]=n["default"]},"./src/plugins/InputShaping/InputShapingFileList.vue?vue&type=style&index=0&id=df8f86dc&scoped=true&lang=css&":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/mini-css-extract-plugin/dist/loader.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/InputShaping/InputShapingFileList.vue?vue&type=style&index=0&id=df8f86dc&scoped=true&lang=css&");for(var a in n)["default"].indexOf(a)<0&&function(e){s.d(t,e,(function(){return n[e]}))}(a)},"./src/plugins/InputShaping/InputShapingFileList.vue?vue&type=template&id=df8f86dc&scoped=true&":function(e,t,s){"use strict";s.r(t);var n=s('./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"6eedfb67-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/InputShaping/InputShapingFileList.vue?vue&type=template&id=df8f86dc&scoped=true&');s.d(t,"render",(function(){return n["render"]})),s.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]}))},"./src/plugins/InputShaping/RangePlugin.js":function(e,t,s){"use strict";s.r(t);s("./node_modules/core-js/modules/es.array.fill.js");var n=s("./node_modules/chart.js/dist/Chart.js"),a=s.n(n),i={renderRect:function renderRect(e,t,s){var n=e.scales["y-axis-0"],a=e.chart.ctx;a.beginPath(),a.rect(t,n.top,s-t,n.bottom-n.top),a.fillStyle=e.options.plugins.range&&e.options.plugins.range.color||"#0000FF30",a.fill()},beforeDatasetsDraw:function beforeDatasetsDraw(e){e.config.range&&this.renderRect(e,Math.min(e.config.range.start,e.config.range.end),Math.max(e.config.range.start,e.config.range.end))}};a.a.plugins.register(i)},"./src/plugins/InputShaping/RecordMotionProfileDialog.vue":function(e,t,s){"use strict";s.r(t);var n=s("./src/plugins/InputShaping/RecordMotionProfileDialog.vue?vue&type=template&id=648d3f54&"),a=s("./src/plugins/InputShaping/RecordMotionProfileDialog.vue?vue&type=script&lang=js&"),i=(s("./src/plugins/InputShaping/RecordMotionProfileDialog.vue?vue&type=style&index=0&lang=css&"),s("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),r=s("./node_modules/vuetify-loader/lib/runtime/installComponents.js"),o=s.n(r),l=s("./node_modules/vuetify/lib/components/VAlert/VAlert.js"),u=s("./node_modules/vuetify/lib/components/VBtn/VBtn.js"),c=s("./node_modules/vuetify/lib/components/VCard/VCard.js"),d=s("./node_modules/vuetify/lib/components/VCard/index.js"),p=s("./node_modules/vuetify/lib/components/VCheckbox/VCheckbox.js"),h=s("./node_modules/vuetify/lib/components/VDialog/VDialog.js"),m=s("./node_modules/vuetify/lib/components/VDivider/VDivider.js"),f=s("./node_modules/vuetify/lib/components/VIcon/VIcon.js"),v=s("./node_modules/vuetify/lib/components/VSelect/VSelect.js"),g=s("./node_modules/vuetify/lib/components/VDataTable/VSimpleTable.js"),x=s("./node_modules/vuetify/lib/components/VGrid/VSpacer.js"),b=s("./node_modules/vuetify/lib/components/VTextField/VTextField.js"),y=s("./node_modules/vuetify/lib/components/VWindow/VWindow.js"),j=s("./node_modules/vuetify/lib/components/VWindow/VWindowItem.js"),_=Object(i["default"])(a["default"],n["render"],n["staticRenderFns"],!1,null,null,null);t["default"]=_.exports,o()(_,{VAlert:l["default"],VBtn:u["default"],VCard:c["default"],VCardActions:d["VCardActions"],VCardText:d["VCardText"],VCardTitle:d["VCardTitle"],VCheckbox:p["default"],VDialog:h["default"],VDivider:m["default"],VIcon:f["default"],VSelect:v["default"],VSimpleTable:g["default"],VSpacer:x["default"],VTextField:b["default"],VWindow:y["default"],VWindowItem:j["default"]})},"./src/plugins/InputShaping/RecordMotionProfileDialog.vue?vue&type=script&lang=js&":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/cache-loader/dist/cjs.js?!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/InputShaping/RecordMotionProfileDialog.vue?vue&type=script&lang=js&");t["default"]=n["default"]},"./src/plugins/InputShaping/RecordMotionProfileDialog.vue?vue&type=style&index=0&lang=css&":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/mini-css-extract-plugin/dist/loader.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/InputShaping/RecordMotionProfileDialog.vue?vue&type=style&index=0&lang=css&");for(var a in n)["default"].indexOf(a)<0&&function(e){s.d(t,e,(function(){return n[e]}))}(a)},"./src/plugins/InputShaping/RecordMotionProfileDialog.vue?vue&type=template&id=648d3f54&":function(e,t,s){"use strict";s.r(t);var n=s('./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"6eedfb67-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/InputShaping/RecordMotionProfileDialog.vue?vue&type=template&id=648d3f54&');s.d(t,"render",(function(){return n["render"]})),s.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]}))},"./src/plugins/InputShaping/VLinePlugin.js":function(e,t,s){"use strict";s.r(t);s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js");var n=s("./node_modules/chart.js/dist/Chart.js"),a=s.n(n),i={id:"vline",getLinePosition:function getLinePosition(e,t){if(0===e.data.datasets.length)return null;var s=e.getDatasetMeta(0),n=s.data;return n?n[t]._model.x:null},renderVerticalLine:function renderVerticalLine(e,t){var s=this.getLinePosition(e,t);if(null!==s){var n=e.scales["y-axis-0"],a=e.chart.ctx;a.beginPath(),a.lineWidth=e.options.plugins.vline&&e.options.plugins.vline.lineWidth||1,a.strokeStyle=e.options.plugins.vline&&e.options.plugins.vline.lineColor||"#ff0000",a.moveTo(s,n.top),a.lineTo(s,n.bottom),a.stroke()}},beforeDatasetsDraw:function beforeDatasetsDraw(e){var t=this;e.config.lineAtIndex&&e.config.lineAtIndex.forEach((function(s){return t.renderVerticalLine(e,s)}))}};a.a.plugins.register(i)},"./src/plugins/InputShaping/index.js":function(e,t,s){"use strict";s.r(t);var n=s("./src/routes/index.js"),a=s("./src/plugins/InputShaping/InputShaping.vue");Object(n["registerRoute"])(a["default"],{Plugins:{InputShaping:{icon:"mdi-transition",caption:"Input Shaping",translated:!0,path:"/InputShaping"}}})},"./src/utils/csv.js":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),a=s("./node_modules/@babel/runtime/helpers/esm/createClass.js"),i=s("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=(s("./node_modules/core-js/modules/es.array.splice.js"),s("./node_modules/core-js/modules/es.array.find-index.js"),function(){function CSV(e){Object(n["default"])(this,CSV),Object(i["default"])(this,"headers",[]),Object(i["default"])(this,"content",[]);for(var t=0,s=0,a=!1,r=0;r<e.length;r++){var o=e[r],l=e[r+1];0===t?this.headers.length<=s&&this.headers.push(""):(this.content.length<t&&this.content.push([]),this.content[t-1].length<=s&&this.content[t-1].push("")),a&&'"'===o&&'"'===l?(0===t?this.headers[s]+=o:this.content[t-1][s]+=o,r++):'"'!==o?","!==o||a?"\n"!==o||a?0===t?this.headers[s]+=o:this.content[t-1][s]+=o:(this.content.push([]),s=0,++t):s++:a=!a}this.content.length>0&&0===this.content[this.content.length-1].length&&this.content.splice(-1,1)}return Object(a["default"])(CSV,[{key:"get",value:function get(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=this.headers.findIndex((function(t){return t===e}));if(-1!==s)return this.content[t][s]}}]),CSV}());t["default"]=r}}]);
//# sourceMappingURL=InputShaping.b89c7975.js.map